// Avoid `console` errors in browsers that lack a console.
if (!(window.console && console.log)) {
    (function() {
        var noop = function() {};
        var methods = ['assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error', 'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log', 'markTimeline', 'profile', 'profileEnd', 'markTimeline', 'table', 'time', 'timeEnd', 'timeStamp', 'trace', 'warn'];
        var length = methods.length;
        var console = window.console = {};
        while (length--) {
            console[methods[length]] = noop;
        }
    }());
}



/*! http://tinynav.viljamis.com v1.03 by @viljamis */
(function (jQuery, window, i) {
  jQuery.fn.tinyNav = function (options) {

    // Default settings
    var settings = jQuery.extend({
      'active' : 'selected', // String: Set the "active" class
      'header' : false // Boolean: Show header instead of the active item
    }, options);

    return this.each(function () {

      // Used for namespacing
      i++;

      var jQuerynav = jQuery(this),
        // Namespacing
        namespace = 'tinynav',
        namespace_i = namespace + i,
        l_namespace_i = '.l_' + namespace_i,
        jQueryselect = jQuery('<select/>').addClass(namespace + ' ' + namespace_i);

      if (jQuerynav.is('ul,ol')) {

        if (settings.header) {
          jQueryselect.append(
            jQuery('<option/>').text('Navigation')
          );
        }

        // Build options
        var options = '';

        jQuerynav
          .addClass('l_' + namespace_i)
          .find('a')
          .each(function () {
            options += '<option value="' + jQuery(this).attr('href') + '">';
            for (j = 0; j < jQuery(this).parents('ul, ol').length - 1; j++) { 
               options += '- ';
            }
            options += jQuery(this).text() + '</option>';
          });

        // Append options into a select
        jQueryselect.append(options);

        // Select the active item
        if (!settings.header) {
          jQueryselect
            .find(':eq(' + jQuery(l_namespace_i + ' li')
            .index(jQuery(l_namespace_i + ' li.' + settings.active)) + ')')
            .attr('selected', true);
        }

        // Change window location
        jQueryselect.change(function () {
          window.location.href = jQuery(this).val();
        });

        // Inject select
        jQuery(l_namespace_i).after(jQueryselect);

      }

    });

  };
})(jQuery, this, 0);




(function(a,b){

    // EASINGS
    jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b+c;return-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b+c;return d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b+c;return-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b*b+c;return d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){if(b==0)return c;if(b==e)return c+d;if((b/=e/2)<1)return d/2*Math.pow(2,10*(b-1))+c;return d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){if((b/=e/2)<1)return-d/2*(Math.sqrt(1-b*b)-1)+c;return d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158;var g=0;var h=d;if(b==0)return c;if((b/=e)==1)return c+d;if(!g)g=e*.3;if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158;var g=0;var h=d;if(b==0)return c;if((b/=e)==1)return c+d;if(!g)g=e*.3;if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158;var g=0;var h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;if(!g)g=e*.3*1.5;if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);if(b<1)return-.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c;return h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){if(f==undefined)f=1.70158;return d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){if(f==undefined)f=1.70158;return d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){if(f==undefined)f=1.70158;if((b/=e/2)<1)return d/2*b*b*(((f*=1.525)+1)*b-f)+c;return d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){if((b/=e)<1/2.75){return d*7.5625*b*b+c}else if(b<2/2.75){return d*(7.5625*(b-=1.5/2.75)*b+.75)+c}else if(b<2.5/2.75){return d*(7.5625*(b-=2.25/2.75)*b+.9375)+c}else{return d*(7.5625*(b-=2.625/2.75)*b+.984375)+c}},easeInOutBounce:function(a,b,c,d,e){if(b<e/2)return jQuery.easing.easeInBounce(a,b*2,0,d,e)*.5+c;return jQuery.easing.easeOutBounce(a,b*2-e,0,d,e)*.5+d*.5+c}})


    // WAIT FOR IMAGES
    a.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage"]};a.expr[":"].uncached=function(b){var c=document.createElement("img");c.src=b.src;return a(b).is('img[src!=""]')&&!c.complete};a.fn.waitForImages=function(b,c,d){if(a.isPlainObject(arguments[0])){c=b.each;d=b.waitForAll;b=b.finished}b=b||a.noop;c=c||a.noop;d=!!d;if(!a.isFunction(b)||!a.isFunction(c)){throw new TypeError("An invalid callback was supplied.")}return this.each(function(){var e=a(this),f=[];if(d){var g=a.waitForImages.hasImageProperties||[],h=/url\((['"]?)(.*?)\1\)/g;e.find("*").each(function(){var b=a(this);if(b.is("img:uncached")){f.push({src:b.attr("src"),element:b[0]})}a.each(g,function(a,c){var d=b.css(c);if(!d){return true}var e;while(e=h.exec(d)){f.push({src:e[2],element:b[0]})}})})}else{e.find("img:uncached").each(function(){f.push({src:this.src,element:this})})}var i=f.length,j=0;if(i==0){b.call(e[0])}a.each(f,function(d,f){var g=new Image;a(g).bind("load error",function(a){j++;c.call(f.element,j,i,a.type=="load");if(j==i){b.call(e[0]);return false}});g.src=f.src})})}


/**************************************\
 *  cssAnimate 1.1.7 for jQuery       *
 *  (c) 2012 - Clemens Damke          *
 *  Licensed under MIT License        *
 *  Works with jQuery >=1.4.3         *
\**************************************/
    var b=parseFloat(a.fn.jquery);if(!b)b=0;var c=["Webkit","Moz","O","Ms","Khtml",""];var d=["borderRadius","boxShadow","userSelect","transformOrigin","transformStyle","transition","transitionDuration","transitionProperty","transitionTimingFunction","backgroundOrigin","backgroundSize","animation","filter","zoom","columns","perspective","perspectiveOrigin","appearance"];a.fn.cssSetQueue=function(b,c){v=this;var d=v.data("cssQueue")?v.data("cssQueue"):[];var e=v.data("cssCall")?v.data("cssCall"):[];var f=0;var g={};a.each(c,function(a,b){g[a]=b});while(1){if(!e[f]){e[f]=g.complete;break}f++}g.complete=f;d.push([b,g]);v.data({cssQueue:d,cssRunning:true,cssCall:e})};a.fn.cssRunQueue=function(){v=this;var a=v.data("cssQueue")?v.data("cssQueue"):[];if(a[0])v.cssEngine(a[0][0],a[0][1]);else v.data("cssRunning",false);a.shift();v.data("cssQueue",a)};a.cssMerge=function(b,c,d){a.each(c,function(c,e){a.each(d,function(a,d){b[d+c]=e})});return b};a.fn.cssAnimationData=function(a,b){var c=this;var d=c.data("cssAnimations");if(!d)d={};if(!d[a])d[a]=[];d[a].push(b);c.data("cssAnimations",d);return d[a]};a.fn.cssAnimationRemove=function(){var b=this;var c=b.data("cssAnimations");var d=b.data("identity");a.each(c,function(a,b){c[a]=b.splice(d+1,1)});b.data("cssAnimations",c)};a.css3D=function(b){a("body").data("cssPerspective",isFinite(b)?b:b?1e3:0).cssOriginal(a.cssMerge({},{TransformStyle:b?"preserve-3d":"flat"},c))};a.cssPropertySupporter=function(b){a.each(d,function(d,e){if(b[e])a.each(c,function(a,c){var d=e.substr(0,1);b[c+d[c?"toUpperCase":"toLowerCase"]()+e.substr(1)]=b[e]})});return b};a.cssAnimateSupport=function(){var b=false;a.each(c,function(a,c){b=document.body.style[c+"AnimationName"]!==undefined?true:b});return b};a.fn.cssEngine=function(b,d){function f(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()}var e=this;var e=this;if(typeof d.complete=="number")e.data("cssCallIndex",d.complete);var g={linear:"linear",swing:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out"};var h={};var i=a("body").data("cssPerspective");if(b.transform)a.each(c,function(a,c){var d=c+(c?"T":"t")+"ransform";var g=e.cssOriginal(f(d));var j=b.transform;if(!g||g=="none")h[d]="scale(1)";b[d]=(i&&!/perspective/gi.test(j)?"perspective("+i+") ":"")+j});b=a.cssPropertySupporter(b);var j=[];a.each(b,function(a,b){j.push(f(a))});var k=false;var l=[];var m=[];for(var n=0;n<j.length;n++){l.push(String(d.duration/1e3)+"s");var o=g[d.easing];m.push(o?o:d.easing)}l=e.cssAnimationData("dur",l.join(", ")).join(", ");m=e.cssAnimationData("eas",m.join(", ")).join(", ");var p=e.cssAnimationData("prop",j.join(", "));e.data("identity",p.length-1);p=p.join(", ");var q={TransitionDuration:l,TransitionProperty:p,TransitionTimingFunction:m};var r={};r=a.cssMerge(r,q,c);var s=b;a.extend(r,b);if(r.display=="callbackHide")k=true;else if(r.display)h["display"]=r.display;e.cssOriginal(h);setTimeout(function(){e.cssOriginal(r);var b=e.data("runningCSS");b=!b?s:a.extend(b,s);e.data("runningCSS",b);setTimeout(function(){e.data("cssCallIndex","a");if(k)e.cssOriginal("display","none");e.cssAnimationRemove();if(d.queue)e.cssRunQueue();if(typeof d.complete=="number"){e.data("cssCall")[d.complete].call(e);e.data("cssCall")[d.complete]=0}else d.complete.call(e)},d.duration)},0)};a.str2Speed=function(a){return isNaN(a)?a=="slow"?1e3:a=="fast"?200:600:a};a.fn.cssAnimate=function(b,c,d,e){var f=this;var g={duration:0,easing:"swing",complete:function(){},queue:true};var h={};h=typeof c=="object"?c:{duration:c};h[d?typeof d=="function"?"complete":"easing":0]=d;h[e?"complete":0]=e;h.duration=a.str2Speed(h.duration);a.extend(g,h);if(a.cssAnimateSupport()){f.each(function(c,d){d=a(d);if(g.queue){var e=!d.data("cssRunning");d.cssSetQueue(b,g);if(e)d.cssRunQueue()}else d.cssEngine(b,g)})}else f.animate(b,g);return f};a.cssPresetOptGen=function(a,b){var c={};c[a?typeof a=="function"?"complete":"easing":0]=a;c[b?"complete":0]=b;return c};a.fn.cssFadeTo=function(b,c,d,e){var f=this;opt=a.cssPresetOptGen(d,e);var g={opacity:c};opt.duration=b;if(a.cssAnimateSupport()){f.each(function(b,d){d=a(d);if(d.data("displayOriginal")!=d.cssOriginal("display")&&d.cssOriginal("display")!="none")d.data("displayOriginal",d.cssOriginal("display")?d.cssOriginal("display"):"block");else d.data("displayOriginal","block");g.display=c?d.data("displayOriginal"):"callbackHide";d.cssAnimate(g,opt)})}else f.fadeTo(b,opt);return f};a.fn.cssFadeOut=function(b,c,d){if(a.cssAnimateSupport()){if(!this.cssOriginal("opacity"))this.cssOriginal("opacity",1);this.cssFadeTo(b,0,c,d)}else this.fadeOut(b,c,d);return this};a.fn.cssFadeIn=function(b,c,d){if(a.cssAnimateSupport()){if(this.cssOriginal("opacity"))this.cssOriginal("opacity",0);this.cssFadeTo(b,1,c,d)}else this.fadeIn(b,c,d);return this};a.cssPx2Int=function(a){return a.split("p")[0]*1};a.fn.cssStop=function(){var b=this,d=0;b.data("cssAnimations",false).each(function(f,g){g=a(g);var h={TransitionDuration:"0s"};var i=g.data("runningCSS");var j={};if(i)a.each(i,function(b,c){c=isFinite(a.cssPx2Int(c))?a.cssPx2Int(c):c;var d=[0,1];var e={color:["#000","#fff"],background:["#000","#fff"],"float":["none","left"],clear:["none","left"],border:["none","0px solid #fff"],position:["absolute","relative"],family:["Arial","Helvetica"],display:["none","block"],visibility:["hidden","visible"],transform:["translate(0,0)","scale(1)"]};a.each(e,function(a,c){if((new RegExp(a,"gi")).test(b))d=c});j[b]=d[0]!=c?d[0]:d[1]});else i={};h=a.cssMerge(j,h,c);g.cssOriginal(h);setTimeout(function(){var c=a(b[d]);c.cssOriginal(i).data({runningCSS:{},cssAnimations:{},cssQueue:[],cssRunning:false});if(typeof c.data("cssCallIndex")=="number")c.data("cssCall")[c.data("cssCallIndex")].call(c);c.data("cssCall",[]);d++},0)});return b};a.fn.cssDelay=function(a){return this.cssAnimate({},a)};a.fn.cssOriginal=a.fn.css;
    
    
    // SWIPE FUNCTION
    a.fn.swipe=function(b){if(!this)return false;var c={fingers:1,threshold:75,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:true,allowPageScroll:"auto"};var d="left";var e="right";var f="up";var g="down";var h="none";var i="horizontal";var j="vertical";var k="auto";var l="start";var m="move";var n="end";var o="cancel";var p="ontouchstart"in window,q=p?"touchstart":"mousedown",r=p?"touchmove":"mousemove",s=p?"touchend":"mouseup",t="touchcancel";var u="start";if(b.allowPageScroll==undefined&&(b.swipe!=undefined||b.swipeStatus!=undefined))b.allowPageScroll=h;if(b)a.extend(c,b);return this.each(function(){function J(){var a=I();if(a<=45&&a>=0)return d;else if(a<=360&&a>=315)return d;else if(a>=135&&a<=225)return e;else if(a>45&&a<135)return g;else return f}function I(){var a=y.x-z.x;var b=z.y-y.y;var c=Math.atan2(b,a);var d=Math.round(c*180/Math.PI);if(d<0)d=360-Math.abs(d);return d}function H(){return Math.round(Math.sqrt(Math.pow(z.x-y.x,2)+Math.pow(z.y-y.y,2)))}function G(a,b){if(c.allowPageScroll==h){a.preventDefault()}else{var l=c.allowPageScroll==k;switch(b){case d:if(c.swipeLeft&&l||!l&&c.allowPageScroll!=i)a.preventDefault();break;case e:if(c.swipeRight&&l||!l&&c.allowPageScroll!=i)a.preventDefault();break;case f:if(c.swipeUp&&l||!l&&c.allowPageScroll!=j)a.preventDefault();break;case g:if(c.swipeDown&&l||!l&&c.allowPageScroll!=j)a.preventDefault();break}}}function F(a,b){if(c.swipeStatus)c.swipeStatus.call(v,a,b,direction||null,distance||0);if(b==o){if(c.click&&(x==1||!p)&&(isNaN(distance)||distance==0))c.click.call(v,a,a.target)}if(b==n){if(c.swipe){c.swipe.call(v,a,direction,distance)}switch(direction){case d:if(c.swipeLeft)c.swipeLeft.call(v,a,direction,distance);break;case e:if(c.swipeRight)c.swipeRight.call(v,a,direction,distance);break;case f:if(c.swipeUp)c.swipeUp.call(v,a,direction,distance);break;case g:if(c.swipeDown)c.swipeDown.call(v,a,direction,distance);break}}}function E(a){x=0;y.x=0;y.y=0;z.x=0;z.y=0;A.x=0;A.y=0}function D(a){a.preventDefault();distance=H();direction=J();if(c.triggerOnTouchEnd){u=n;if((x==c.fingers||!p)&&z.x!=0){if(distance>=c.threshold){F(a,u);E(a)}else{u=o;F(a,u);E(a)}}else{u=o;F(a,u);E(a)}}else if(u==m){u=o;F(a,u);E(a)}b.removeEventListener(r,C,false);b.removeEventListener(s,D,false)}function C(a){if(u==n||u==o)return;var b=p?a.touches[0]:a;z.x=b.pageX;z.y=b.pageY;direction=J();if(p){x=a.touches.length}u=m;G(a,direction);if(x==c.fingers||!p){distance=H();if(c.swipeStatus)F(a,u,direction,distance);if(!c.triggerOnTouchEnd){if(distance>=c.threshold){u=n;F(a,u);E(a)}}}else{u=o;F(a,u);E(a)}}function B(a){var d=p?a.touches[0]:a;u=l;if(p){x=a.touches.length}distance=0;direction=null;if(x==c.fingers||!p){y.x=z.x=d.pageX;y.y=z.y=d.pageY;if(c.swipeStatus)F(a,u)}else{E(a)}b.addEventListener(r,C,false);b.addEventListener(s,D,false)}var b=this;var v=a(this);var w=null;var x=0;var y={x:0,y:0};var z={x:0,y:0};var A={x:0,y:0};try{this.addEventListener(q,B,false);this.addEventListener(t,E)}catch(K){}})}

})(jQuery);



(function($,undefined){$.fn.extend({revolution:function(options){var defaults={delay:9000,startheight:490,startwidth:890,hideThumbs:200,thumbWidth:100,thumbHeight:50,thumbAmount:5,navigationType:"both",navigationArrows:"nexttobullets",navigationStyle:"round",touchenabled:"on",onHoverStop:"on",navOffsetHorizontal:0,navOffsetVertical:20,stopAtSlide:4,stopAfterLoops:1,shadow:1,stopLoop:"off"};options=$.extend({},$.fn.revolution.defaults,options);return this.each(function(){var opt=options;var container=$(this);container.find('.caption iframe').each(function(){try{if($(this).attr('src').indexOf('you')>0){var s=document.createElement("script");s.src="http://www.youtube.com/player_api";var before=document.getElementsByTagName("script")[0];before.parentNode.insertBefore(s,before);}}catch(e){}});container.find('.caption iframe').each(function(){try{if($(this).attr('src').indexOf('vim')>0){var f=document.createElement("script");f.src="http://a.vimeocdn.com/js/froogaloop2.min.js";var before=document.getElementsByTagName("script")[0];before.parentNode.insertBefore(f,before);}}catch(e){}});opt.slots=4;opt.act=-1;opt.next=0;opt.origcd=opt.delay;opt.firefox13=($.browser.mozilla)&&(parseInt($.browser.version,0)==13||parseInt($.browser.version,0)==14||parseInt($.browser.version,0)==15);opt.ie=$.browser.msie&&parseInt($.browser.version,0)<9;if(opt.navOffsetHorizontal==undefined)opt.navOffsetHorizontal=0;if(opt.navOffsetVertical==undefined)opt.navOffsetVertical=0;opt.navOH=opt.navOffsetHorizontal;opt.navOV=opt.navOffsetVertical;container.append('<div class="tp-loader"></div>');var bt=container.find('.tp-bannertimer');if(bt.length>0){bt.css({'width':'0%'});};container.addClass("tp-simpleresponsive");opt.container=container;opt.slideamount=container.find('ul:first li').length;if(opt.startwidth==undefined||opt.startwidth==0)opt.startwidth=container.width();if(opt.startheight==undefined||opt.startheight==0)opt.startheight=container.height();opt.width=container.width();opt.height=container.height();opt.bw=opt.startwidth/container.width();opt.bh=opt.startheight/container.height();if(opt.width!=opt.startwidth){opt.height=Math.round(opt.startheight*(opt.width/opt.startwidth));container.height(opt.height);}
if(opt.shadow!=0){container.parent().append('<div class="tp-bannershadow tp-shadow'+opt.shadow+'"></div>');container.parent().find('.tp-bannershadow').css({'width':opt.width});}
container.waitForImages(function(){prepareSlides(container,opt);if(opt.slideamount>1)createBullets(container,opt);if(opt.slideamount>1)createThumbs(container,opt);if(opt.slideamount>1)createArrows(container,opt);swipeAction(container,opt);if(opt.hideThumbs>0)hideThumbs(container,opt);container.waitForImages(function(){container.find('.tp-loader').fadeOut(400);setTimeout(function(){swapSlide(container,opt);if(opt.slideamount>1)countDown(container,opt);},1000);});});$(window).resize(function(){if(container.outerWidth(true)!=opt.width){containerResized(container,opt);}});})}})
function containerResized(container,opt){container.find('.defaultimg').each(function(i){setSize($(this),opt);opt.height=Math.round(opt.startheight*(opt.width/opt.startwidth));container.height(opt.height);setSize($(this),opt);try{container.parent().find('.tp-bannershadow').css({'width':opt.width});}catch(e){}
var actsh=container.find('li:eq('+opt.act+') .slotholder');var nextsh=container.find('li:eq('+opt.next+') .slotholder');removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':0});actsh.find('.defaultimg').css({'opacity':1});setCaptionPositions(container,opt);var nextli=container.find('li:eq('+opt.next+')');container.find('.caption').each(function(){$(this).stop(true,true);});animateTheCaptions(nextli,opt);restartBannerTimer(opt,container);});}
function restartBannerTimer(opt,container){opt.cd=0;if(opt.videoplaying!=true){var bt=container.find('.tp-bannertimer');if(bt.length>0){bt.stop();bt.css({'width':'0%'});bt.animate({'width':"100%"},{duration:(opt.delay-100),queue:false,easing:"linear"});}
clearTimeout(opt.thumbtimer);opt.thumbtimer=setTimeout(function(){moveSelectedThumb(container);setBulPos(container,opt);},200);}}
function callingNewSlide(opt,container){opt.cd=0;swapSlide(container,opt);var bt=container.find('.tp-bannertimer');if(bt.length>0){bt.stop();bt.css({'width':'0%'});bt.animate({'width':"100%"},{duration:(opt.delay-100),queue:false,easing:"linear"});}}
function createThumbs(container,opt){var cap=container.parent();if(opt.navigationType=="thumb"||opt.navsecond=="both"){cap.append('<div class="tp-bullets tp-thumbs '+opt.navigationStyle+'"><div class="tp-mask"><div class="tp-thumbcontainer"></div></div></div>');}
var bullets=cap.find('.tp-bullets.tp-thumbs .tp-mask .tp-thumbcontainer');var bup=bullets.parent();bup.width(opt.thumbWidth*opt.thumbAmount);bup.height(opt.thumbHeight);bup.parent().width(opt.thumbWidth*opt.thumbAmount);bup.parent().height(opt.thumbHeight);container.find('ul:first li').each(function(i){var li=container.find("ul:first li:eq("+i+")");if(li.data('thumb')!=undefined)
var src=li.data('thumb')
else
var src=li.find("img:first").attr('src');bullets.append('<div class="bullet thumb"><img src="'+src+'"></div>');var bullet=bullets.find('.bullet:first');});bullets.append('<div style="clear:both"></div>');var minwidth=1000;bullets.find('.bullet').each(function(i){var bul=$(this);if(i==opt.slideamount-1)bul.addClass('last');if(i==0)bul.addClass('first');bul.width(opt.thumbWidth);bul.height(opt.thumbHeight);if(minwidth>bul.outerWidth(true))minwidth=bul.outerWidth(true);bul.click(function(){if(opt.transition==0&&bul.index()!=opt.act){opt.next=bul.index();callingNewSlide(opt,container);}});});var max=minwidth*container.find('ul:first li').length;var thumbconwidth=bullets.parent().width();opt.thumbWidth=minwidth;if(thumbconwidth<max){$(document).mousemove(function(e){$('body').data('mousex',e.pageX);});bullets.parent().mouseenter(function(){var $this=$(this);$this.addClass("over");var offset=$this.offset();var x=$('body').data('mousex')-offset.left;var thumbconwidth=$this.width();var minwidth=$this.find('.bullet:first').outerWidth(true);var max=minwidth*container.find('ul:first li').length;var diff=(max-thumbconwidth)+15;var steps=diff/thumbconwidth;x=x-30;var pos=(0-((x)*steps));if(pos>0)pos=0;if(pos<0-max+thumbconwidth)pos=0-max+thumbconwidth;moveThumbSliderToPosition($this,pos,200);});bullets.parent().mousemove(function(){var $this=$(this);var offset=$this.offset();var x=$('body').data('mousex')-offset.left;var thumbconwidth=$this.width();var minwidth=$this.find('.bullet:first').outerWidth(true);var max=minwidth*container.find('ul:first li').length;var diff=(max-thumbconwidth)+15;var steps=diff/thumbconwidth;x=x-30;var pos=(0-((x)*steps));if(pos>0)pos=0;if(pos<0-max+thumbconwidth)pos=0-max+thumbconwidth;moveThumbSliderToPosition($this,pos,0);});bullets.parent().mouseleave(function(){var $this=$(this);$this.removeClass("over");moveSelectedThumb(container);});}}
function moveSelectedThumb(container){var bullets=container.parent().find('.tp-bullets.tp-thumbs .tp-mask .tp-thumbcontainer');var $this=bullets.parent();var offset=$this.offset();var minwidth=$this.find('.bullet:first').outerWidth(true);var x=$this.find('.bullet.selected').index()*minwidth;var thumbconwidth=$this.width();var minwidth=$this.find('.bullet:first').outerWidth(true);var max=minwidth*container.find('ul:first li').length;var diff=(max-thumbconwidth);var steps=diff/thumbconwidth;var pos=0-x;if(pos>0)pos=0;if(pos<0-max+thumbconwidth)pos=0-max+thumbconwidth;if(!$this.hasClass("over")){moveThumbSliderToPosition($this,pos,200);}}
function moveThumbSliderToPosition($this,pos,speed){$this.stop();$this.find('.tp-thumbcontainer').animate({'left':pos+'px'},{duration:speed,queue:false});}
function createBullets(container,opt){if(opt.navigationType=="bullet"||opt.navigationType=="both"){container.parent().append('<div class="tp-bullets simplebullets '+opt.navigationStyle+'"></div>');}
var bullets=container.parent().find('.tp-bullets');container.find('ul:first li').each(function(i){var src=container.find("ul:first li:eq("+i+") img:first").attr('src');bullets.append('<div class="bullet"></div>');var bullet=bullets.find('.bullet:first');});bullets.find('.bullet').each(function(i){var bul=$(this);if(i==opt.slideamount-1)bul.addClass('last');if(i==0)bul.addClass('first');bul.click(function(){if(opt.transition==0&&bul.index()!=opt.act){opt.next=bul.index();callingNewSlide(opt,container);}});});bullets.append('<div style="clear:both"></div>');setBulPos(container,opt);$('#unvisible_button').click(function(){opt.navigationArrows=$('.select_navarrows .selected').data('value');opt.navigationType=$('.select_navigationtype .selected').data('value');opt.hideThumbs=$('.select_navshow .selected').data('value');container.data('hidethumbs',opt.hideThumbs);var bhd=$('.select_bhposition .dragger');opt.navOffsetHorizontal=Math.round(((bhd.data('max')-bhd.data('min'))*(bhd.position().left/410))+bhd.data('min'));var bvd=$('.select_bvposition .dragger');opt.navOffsetVertical=Math.round(((bvd.data('max')-bvd.data('min'))*(bvd.position().left/410))+bvd.data('min'));var btr=$('.select_slidetime .dragger');opt.delay2=Math.round((((btr.data('max')-btr.data('min'))*(btr.position().left/410))+btr.data('min'))*1000);if(opt.delay2!=opt.delay){opt.delay=opt.delay2;opt.origcd=opt.delay;opt.cd=0;var bt=container.find('.tp-bannertimer');if(bt.length>0){bt.stop();bt.css({'width':'0%'});bt.animate({'width':"100%"},{duration:(opt.delay-100),queue:false,easing:"linear"});}}
opt.onHoverStop=$('.select_hovers .selected').data('value');setBulPos(container,opt);setTimeout(function(){setBulPos(container,opt);},100);});}
function createArrows(container,opt){var bullets=container.find('.tp-bullets');if(opt.navigationArrow!="none")container.parent().append('<div class="tp-leftarrow tparrows '+opt.navigationStyle+'"></div>');if(opt.navigationArrow!="none")container.parent().append('<div class="tp-rightarrow tparrows '+opt.navigationStyle+'"></div>');container.parent().find('.tp-rightarrow').click(function(){if(opt.transition==0){opt.next=opt.next+1;if(opt.next==opt.slideamount)opt.next=0;callingNewSlide(opt,container);}});container.parent().find('.tp-leftarrow').click(function(){if(opt.transition==0){opt.next=opt.next-1;opt.leftarrowpressed=1;if(opt.next<0)opt.next=opt.slideamount-1;callingNewSlide(opt,container);}});setBulPos(container,opt);}
function swipeAction(container,opt){if(opt.touchenabled=="on")
container.swipe({data:container,swipeRight:function()
{if(opt.transition==0){opt.next=opt.next-1;opt.leftarrowpressed=1;if(opt.next<0)opt.next=opt.slideamount-1;callingNewSlide(opt,container);}},swipeLeft:function()
{if(opt.transition==0){opt.next=opt.next+1;if(opt.next==opt.slideamount)opt.next=0;callingNewSlide(opt,container);}},allowPageScroll:"auto"});}
function hideThumbs(container,opt){var bullets=container.parent().find('.tp-bullets');var ca=container.parent().find('.tparrows');if(bullets==null){container.append('<div class=".tp-bullets"></div>');var bullets=container.parent().find('.tp-bullets');}
if(ca==null){container.append('<div class=".tparrows"></div>');var ca=container.parent().find('.tparrows');}
container.data('hidethumbs',opt.hideThumbs);try{bullets.css({'opacity':0});}catch(e){}
try{ca.css({'opacity':0});}catch(e){}
bullets.hover(function(){bullets.addClass("hovered");clearTimeout(container.data('hidethumbs'));bullets.cssAnimate({'opacity':1},{duration:200,queue:false});ca.animate({'opacity':1},{duration:200,queue:false});},function(){bullets.removeClass("hovered");if(!container.hasClass("hovered")&&!bullets.hasClass("hovered"))
container.data('hidethumbs',setTimeout(function(){bullets.cssAnimate({'opacity':0},{duration:200,queue:false});ca.animate({'opacity':0},{duration:200,queue:false});},opt.hideThumbs));});ca.hover(function(){bullets.addClass("hovered");clearTimeout(container.data('hidethumbs'));bullets.cssAnimate({'opacity':1},{duration:200,queue:false});ca.animate({'opacity':1},{duration:200,queue:false});},function(){bullets.removeClass("hovered");if(!container.hasClass("hovered")&&!bullets.hasClass("hovered"))
container.data('hidethumbs',setTimeout(function(){bullets.cssAnimate({'opacity':0},{duration:200,queue:false});ca.animate({'opacity':0},{duration:200,queue:false});},opt.hideThumbs));});container.live('mouseenter',function(){container.addClass("hovered");clearTimeout(container.data('hidethumbs'));bullets.cssAnimate({'opacity':1},{duration:200,queue:false});ca.animate({'opacity':1},{duration:200,queue:false});});container.live('mouseleave',function(){container.removeClass("hovered");if(!container.hasClass("hovered")&&!bullets.hasClass("hovered"))
container.data('hidethumbs',setTimeout(function(){bullets.cssAnimate({'opacity':0},{duration:200,queue:false});ca.animate({'opacity':0},{duration:200,queue:false});},opt.hideThumbs));});}
function setBulPos(container,opt){if(opt.navigationType=="both"){opt.navigationType="bullet";opt.navsecond="both";}
if(opt.navigationType=="none"&&opt.navigationArrows!="none")opt.navigationArrows="verticalcentered";opt.navOH=opt.navOffsetHorizontal*opt.bw;opt.navOV=opt.navOffsetVertical*opt.bh;if(opt.bw!=1)opt.navOH=0;var cap=container.parent();var la=cap.find('.tp-leftarrow');var ra=cap.find('.tp-rightarrow');if(opt.navigationType=="bullet"){var bullets=cap.find('.tp-bullets.simplebullets');bullets.css({'visibility':'visible'});try{cap.find('.tp-thumbs').css({'visibility':'hidden'});}catch(e){}
var fulllong=bullets.width();if(!bullets.hasClass("tp-thumbs")){fulllong=0;bullets.find('.bullet').each(function(){fulllong=fulllong+$(this).outerWidth(true);});bullets.css({'width':(fulllong)+"px"});}
var ldiff=cap.outerWidth()-opt.width;bullets.css({'left':(opt.navOH)+(ldiff/2)+(opt.width/2-fulllong/2)+"px",'bottom':opt.navOV+"px"});if(opt.navigationArrows=="nexttobullets"){la.removeClass("large");ra.removeClass("large");la.removeClass("thumbswitharrow");ra.removeClass("thumbswitharrow");la.css({'visibility':'visible'});ra.css({'visibility':'visible'});var diff=0;la.css({'position':'absolute','left':(bullets.position().left-la.outerWidth(true))+"px",'top':bullets.position().top+"px"});ra.css({'position':'absolute','left':(bullets.outerWidth(true)+bullets.position().left)+"px",'top':bullets.position().top+"px"});}else{if(opt.navigationArrows=="verticalcentered"){la.addClass("large");ra.addClass("large");la.css({'visibility':'visible'});ra.css({'visibility':'visible'});var decorh=cap.outerHeight();la.css({'position':'absolute','left':(ldiff/2)+"px",'top':(decorh/2)+"px"});ra.css({'position':'absolute','left':(opt.width-ra.outerWidth()+ldiff/2)+"px",'top':(decorh/2)+"px"});}else{la.css({'visibility':'hidden'});ra.css({'visibility':'hidden'});}}}else{if(opt.navigationType=="thumb"){var thumbs=cap.find('.tp-thumbs');try{cap.find('.tp-bullets').css({'visibility':'hidden'});}catch(e){}
thumbs.css({'visibility':'visible'});var decorh=thumbs.parent().outerHeight();var ldiff=cap.outerWidth()-opt.width;thumbs.css({'left':(opt.navOH)+(opt.width/2-thumbs.width()/2)+"px"});thumbs.css({'bottom':(0-thumbs.outerHeight(true)+(opt.navOV))+"px"});if(opt.navigationArrows=="verticalcentered"){la.css({'visibility':'visible'});ra.css({'visibility':'visible'});la.addClass("large");ra.addClass("large");la.css({'position':'absolute','left':(ldiff/2)+"px",'top':(cap.outerHeight()/2)+"px"});ra.css({'position':'absolute','left':(opt.width-ra.outerWidth()+ldiff/2)+"px",'top':(cap.outerHeight()/2)+"px"});}else{la.css({'visibility':'hidden'});ra.css({'visibility':'hidden'});}}else{if(opt.navigationType=="none"){try{cap.find('.tp-bullets').css({'visibility':'hidden'});}catch(e){}
try{cap.find('.tp-thumbs').css({'visibility':'hidden'});}catch(e){}
if(opt.navigationArrows!="none"){var ldiff=cap.outerWidth()-opt.width;la.css({'visibility':'visible'});ra.css({'visibility':'visible'});la.addClass("large");ra.addClass("large");la.css({'position':'absolute','left':(ldiff/2)+"px",'top':(cap.outerHeight()/2)+"px"});ra.css({'position':'absolute','left':(opt.width-ra.outerWidth()+ldiff/2)+"px",'top':(cap.outerHeight()/2)+"px"});}else{la.css({'visibility':'hidden'});ra.css({'visibility':'hidden'});}}}}}
function setSize(img,opt){opt.width=parseInt(opt.container.width(),0);opt.height=parseInt(opt.container.height(),0);opt.bw=opt.width/opt.startwidth;opt.bh=opt.height/opt.startheight;if(opt.bh>1){opt.bw=1;opt.bh=1;}
if(img.data('orgw')!=undefined){img.width(img.data('orgw'));img.height(img.data('orgh'));}
var fw=opt.width/img.width();var fh=opt.height/img.height();opt.fw=fw;opt.fh=fh;if(img.data('orgw')==undefined){img.data('orgw',img.width());img.data('orgh',img.height());}
if(opt.fullWidth=="on"){var cow=opt.container.parent().width();var coh=opt.container.parent().height();var ffh=coh/img.data('orgh');var ffw=cow/img.data('orgw');img.width(img.width()*ffh);img.height(coh);if(img.width()<cow){img.width(cow+50);var ffw=img.width()/img.data('orgw');img.height(img.data('orgh')*ffw);}
if(img.width()>cow){img.data("fxof",(cow/2-img.width()/2));img.css({'position':'absolute','left':img.data('fxof')+"px"});}}else{img.width(opt.width);img.height(img.height()*fw);if(img.height()<opt.height&&img.height()!=0&&img.height()!=null){img.height(opt.height);img.width(img.data('orgw')*fh);}}
img.data('neww',img.width());img.data('newh',img.height());if(opt.fullWidth=="on"){opt.slotw=Math.ceil(img.width()/opt.slots);}else{opt.slotw=Math.ceil(opt.width/opt.slots);}
opt.sloth=Math.ceil(opt.height/opt.slots);}
function prepareSlides(container,opt){container.find('.caption').each(function(){$(this).addClass($(this).data('transition'));$(this).addClass('start')});container.find('ul:first >li').each(function(j){var li=$(this);if(li.data('link')!=undefined){var link=li.data('link');li.append('<div class="caption sft slidelink" data-x="0" data-y="0" data-start="0"><a href="'+link+'"><div></div></a></div>');}});container.find('ul:first li >img').each(function(j){var img=$(this);img.addClass('defaultimg');setSize(img,opt);img.wrap('<div class="slotholder"></div>');img.css({'opacity':0});img.data('li-id',j);});}
function prepareOneSlide(slotholder,opt,visible){var sh=slotholder;var img=sh.find('img')
setSize(img,opt)
var src=img.attr('src');var w=img.data('neww');var h=img.data('newh');var fulloff=img.data("fxof");if(fulloff==undefined)fulloff=0;var off=0;if(!visible)
var off=0-opt.slotw;for(var i=0;i<opt.slots;i++)
sh.append('<div class="slot" style="position:absolute;top:0px;left:'+(fulloff+i*opt.slotw)+'px;overflow:hidden;width:'+opt.slotw+'px;height:'+h+'px"><div class="slotslide" style="position:absolute;top:0px;left:'+off+'px;width:'+opt.slotw+'px;height:'+h+'px;overflow:hidden;"><img style="position:absolute;top:0px;left:'+(0-(i*opt.slotw))+'px;width:'+w+'px;height:'+h+'px" src="'+src+'"></div></div>');}
function prepareOneSlideV(slotholder,opt,visible){var sh=slotholder;var img=sh.find('img')
setSize(img,opt)
var src=img.attr('src');var w=img.data('neww');var h=img.data('newh');var fulloff=img.data("fxof");if(fulloff==undefined)fulloff=0;var off=0;if(!visible)
var off=0-opt.sloth;for(var i=0;i<opt.slots;i++)
sh.append('<div class="slot" style="position:absolute;top:'+(i*opt.sloth)+'px;left:'+(fulloff)+'px;overflow:hidden;width:'+w+'px;height:'+(opt.sloth)+'px"><div class="slotslide" style="position:absolute;top:'+off+'px;left:0px;width:'+w+'px;height:'+opt.sloth+'px;overflow:hidden;"><img style="position:absolute;top:'+(0-(i*opt.sloth))+'px;left:0px;width:'+w+'px;height:'+h+'px" src="'+src+'"></div></div>');}
function prepareOneSlideBox(slotholder,opt,visible){var sh=slotholder;var img=sh.find('img')
setSize(img,opt)
var src=img.attr('src');var w=img.data('neww');var h=img.data('newh');var fulloff=img.data("fxof");if(fulloff==undefined)fulloff=0;var off=0;var basicsize=0;if(opt.sloth>opt.slotw)
basicsize=opt.sloth
else
basicsize=opt.slotw;if(!visible){var off=0-basicsize;}
opt.slotw=basicsize;opt.sloth=basicsize;var x=0;var y=0;for(var j=0;j<opt.slots;j++){y=0;for(var i=0;i<opt.slots;i++){sh.append('<div class="slot" '+'style="position:absolute;'+'top:'+y+'px;'+'left:'+(fulloff+x)+'px;'+'width:'+basicsize+'px;'+'height:'+basicsize+'px;'+'overflow:hidden;">'+'<div class="slotslide" data-x="'+x+'" data-y="'+y+'" '+'style="position:absolute;'+'top:'+(0)+'px;'+'left:'+(0)+'px;'+'width:'+basicsize+'px;'+'height:'+basicsize+'px;'+'overflow:hidden;">'+'<img style="position:absolute;'+'top:'+(0-y)+'px;'+'left:'+(0-x)+'px;'+'width:'+w+'px;'+'height:'+h+'px"'+'src="'+src+'"></div></div>');y=y+basicsize;}
x=x+basicsize;}}
function removeSlots(container,opt){setTimeout(function(){container.find('.slotholder .slot').each(function(){clearTimeout($(this).data('tout'));$(this).remove();});opt.transition=0;},80);}
function setCaptionPositions(container,opt){var actli=container.find('li:eq('+opt.act+')');var nextli=container.find('li:eq('+opt.next+')');var nextcaption=nextli.find('.caption');if(nextcaption.find('iframe')==0){if(nextcaption.hasClass('hcenter'))
nextcaption.css({'height':opt.height+"px",'top':'0px','left':(opt.width/2-nextcaption.outerWidth()/2)+'px'});else
if(nextcaption.hasClass('vcenter'))
nextcaption.css({'width':opt.width+"px",'left':'0px','top':(opt.height/2-nextcaption.outerHeight()/2)+'px'});}}
function swapSlide(container,opt){opt.transition=1;opt.videoplaying=false;try{var actli=container.find('li:eq('+opt.act+')');}catch(e){var actli=container.find('li:eq(1)');}
var nextli=container.find('li:eq('+opt.next+')');var actsh=actli.find('.slotholder');var nextsh=nextli.find('.slotholder');actli.css({'visibility':'visible'});nextli.css({'visibility':'visible'});if($.browser.msie&&$.browser.version<9){if(nextli.data('transition')=="boxfade")nextli.data('transition',"boxslide");if(nextli.data('transition')=="slotfade-vertical")nextli.data('transition',"slotzoom-vertical");if(nextli.data('transition')=="slotfade-horizontal")nextli.data('transition',"slotzoom-horizontal");}
if(nextli.data('delay')!=undefined){opt.cd=0;opt.delay=nextli.data('delay');}else{opt.delay=opt.origcd;}
actli.css({'left':'0px','top':'0px'});nextli.css({'left':'0px','top':'0px'});var nexttrans=0;if(nextli.data('transition')=="boxslide")nexttrans=0
else
if(nextli.data('transition')=="boxfade")nexttrans=1
else
if(nextli.data('transition')=="slotslide-horizontal")nexttrans=2
else
if(nextli.data('transition')=="slotslide-vertical")nexttrans=3
else
if(nextli.data('transition')=="curtain-1")nexttrans=4
else
if(nextli.data('transition')=="curtain-2")nexttrans=5
else
if(nextli.data('transition')=="curtain-3")nexttrans=6
else
if(nextli.data('transition')=="slotzoom-horizontal")nexttrans=7
else
if(nextli.data('transition')=="slotzoom-vertical")nexttrans=8
else
if(nextli.data('transition')=="slotfade-horizontal")nexttrans=9
else
if(nextli.data('transition')=="slotfade-vertical")nexttrans=10
else
if(nextli.data('transition')=="fade")nexttrans=11
else
if(nextli.data('transition')=="slideleft")nexttrans=12
else
if(nextli.data('transition')=="slideup")nexttrans=13
else
if(nextli.data('transition')=="slidedown")nexttrans=14
else
if(nextli.data('transition')=="slideright")nexttrans=15;else{nexttrans=Math.round(Math.random()*16);nextli.data('slotamount',Math.round(Math.random()*12+4));}
if(nextli.data('transition')=="slidehorizontal"){nexttrans=12
if(opt.leftarrowpressed==1)
nexttrans=15}
if(nextli.data('transition')=="slidevertical"){nexttrans=13
if(opt.leftarrowpressed==1)
nexttrans=14}
opt.leftarrowpressed=0;if(nexttrans>16)nexttrans=15;if(nexttrans<0)nexttrans=0;var masterspeed=300;if(nextli.data('masterspeed')!=undefined&&nextli.data('masterspeed')>99&&nextli.data('masterspeed')<2001)
masterspeed=nextli.data('masterspeed');container.parent().find(".bullet").each(function(){var bul=$(this);bul.removeClass("selected");if(bul.index()==opt.next)bul.addClass('selected');});container.find('li').each(function(){var li=$(this);if(li.index!=opt.act&&li.index!=opt.next)li.css({'z-index':16});});actli.css({'z-index':18});nextli.css({'z-index':20});nextli.css({'opacity':0});removeTheCaptions(actli,opt);animateTheCaptions(nextli,opt);if(nextli.data('slotamount')==undefined||nextli.data('slotamount')<1){opt.slots=Math.round(Math.random()*12+4);if(nextli.data('transition')=="boxslide")
opt.slots=Math.round(Math.random()*6+3);}else{opt.slots=nextli.data('slotamount');}
if(nexttrans==0){masterspeed=masterspeed+100;if(opt.slots>15)opt.slots=15;nextli.css({'opacity':1});prepareOneSlideBox(actsh,opt,true);prepareOneSlideBox(nextsh,opt,false);nextsh.find('.defaultimg').css({'opacity':0});nextsh.find('.slotslide').each(function(j){var ss=$(this);ss.css({'top':(0-opt.sloth)+"px",'left':(0-opt.slotw)+"px"});setTimeout(function(){if(opt.firefox13)
ss.animate({'top':"0px",'left':'0px'},{duration:(masterspeed),queue:false,complete:function(){if(j==(opt.slots*opt.slots)-1){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}}});else
ss.cssAnimate({'top':"0px",'left':'0px'},{duration:(masterspeed),queue:false,complete:function(){if(j==(opt.slots*opt.slots)-1){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);}}});},j*15);});}
if(nexttrans==1){if(opt.slots>5)opt.slots=5;nextli.css({'opacity':1});prepareOneSlideBox(nextsh,opt,false);nextsh.find('.defaultimg').css({'opacity':0});nextsh.find('.slotslide').each(function(j){var ss=$(this);ss.css({'opacity':0});ss.find('img').css({'opacity':0});ss.find('img').css({'top':(Math.random()*opt.slotw-opt.slotw)+"px",'left':(Math.random()*opt.slotw-opt.slotw)+"px"});var rand=Math.random()*1000+(masterspeed+200);if(j==(opt.slots*opt.slots)-1)rand=1500;if(opt.firefox13){ss.find('img').animate({'opacity':1,'top':(0-ss.data('y'))+"px",'left':(0-ss.data('x'))+'px'},{duration:rand,queue:false});ss.animate({'opacity':1},{duration:rand,queue:false,complete:function(){if(j==(opt.slots*opt.slots)-1){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}}});}else{ss.find('img').animate({'opacity':1,'top':(0-ss.data('y'))+"px",'left':(0-ss.data('x'))+'px'},{duration:rand,queue:false});ss.cssAnimate({'opacity':1},{duration:rand,queue:false,complete:function(){if(j==(opt.slots*opt.slots)-1){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);}}});}});}
if(nexttrans==2){masterspeed=masterspeed+200;nextli.css({'opacity':1});prepareOneSlide(actsh,opt,true);prepareOneSlide(nextsh,opt,false);nextsh.find('.defaultimg').css({'opacity':0});actsh.find('.slotslide').each(function(){var ss=$(this);if(opt.firefox13){ss.animate({'left':opt.slotw+'px'},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}});}else{ss.cssAnimate({'left':opt.slotw+'px'},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}});}});nextsh.find('.slotslide').each(function(){var ss=$(this);ss.css({'left':(0-opt.slotw)+"px"});if(opt.firefox13){ss.animate({'left':'0px'},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);}});}else{ss.cssAnimate({'left':'0px'},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}});}});}
if(nexttrans==3){masterspeed=masterspeed+200;nextli.css({'opacity':1});prepareOneSlideV(actsh,opt,true);prepareOneSlideV(nextsh,opt,false);nextsh.find('.defaultimg').css({'opacity':0});actsh.find('.slotslide').each(function(){var ss=$(this);if(opt.firefox13){ss.animate({'top':opt.sloth+'px'},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}});}else{ss.cssAnimate({'top':opt.sloth+'px'},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);}});}});nextsh.find('.slotslide').each(function(){var ss=$(this);ss.css({'top':(0-opt.sloth)+"px"});if(opt.firefox13){ss.animate({'top':'0px'},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}});}else{ss.cssAnimate({'top':'0px'},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);}});}});}
if(nexttrans==4){nextli.css({'opacity':1});prepareOneSlide(actsh,opt,true);prepareOneSlide(nextsh,opt,true);nextsh.find('.defaultimg').css({'opacity':0});actsh.find('.defaultimg').css({'opacity':0});actsh.find('.slotslide').each(function(i){var ss=$(this);ss.cssAnimate({'top':(0+(opt.height))+"px",'opacity':1},{duration:masterspeed+(i*(70-opt.slots)),queue:false,complete:function(){}});});nextsh.find('.slotslide').each(function(i){var ss=$(this);ss.css({'top':(0-(opt.height))+"px",'opacity':0});if(opt.firefox13){ss.animate({'top':'0px','opacity':1},{duration:masterspeed+(i*(70-opt.slots)),queue:false,complete:function(){if(i==opt.slots-1){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}}});}else{ss.cssAnimate({'top':'0px','opacity':1},{duration:masterspeed+(i*(70-opt.slots)),queue:false,complete:function(){if(i==opt.slots-1){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);}}});}});}
if(nexttrans==5){nextli.css({'opacity':1});prepareOneSlide(actsh,opt,true);prepareOneSlide(nextsh,opt,true);nextsh.find('.defaultimg').css({'opacity':0});actsh.find('.defaultimg').css({'opacity':0});actsh.find('.slotslide').each(function(i){var ss=$(this);if(opt.firefox13){ss.animate({'top':(0+(opt.height))+"px",'opacity':1},{duration:masterspeed+((opt.slots-i)*(70-opt.slots)),queue:false,complete:function(){}});}else{ss.cssAnimate({'top':(0+(opt.height))+"px",'opacity':1},{duration:masterspeed+((opt.slots-i)*(70-opt.slots)),queue:false,complete:function(){}});}});nextsh.find('.slotslide').each(function(i){var ss=$(this);ss.css({'top':(0-(opt.height))+"px",'opacity':0});if(opt.firefox13){ss.animate({'top':'0px','opacity':1},{duration:masterspeed+((opt.slots-i)*(70-opt.slots)),queue:false,complete:function(){if(i==0){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}}});}else{ss.cssAnimate({'top':'0px','opacity':1},{duration:masterspeed+((opt.slots-i)*(70-opt.slots)),queue:false,complete:function(){if(i==0){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);}}});}});}
if(nexttrans==6){nextli.css({'opacity':1});if(opt.slots<2)opt.slots=2;prepareOneSlide(actsh,opt,true);prepareOneSlide(nextsh,opt,true);nextsh.find('.defaultimg').css({'opacity':0});actsh.find('.defaultimg').css({'opacity':0});actsh.find('.slotslide').each(function(i){var ss=$(this);if(i<opt.slots/2)
var tempo=(i+2)*60;else
var tempo=(2+opt.slots-i)*60;if(opt.firefox13){ss.animate({'top':(0+(opt.height))+"px",'opacity':1},{duration:masterspeed+tempo,queue:false,complete:function(){}});}else{ss.cssAnimate({'top':(0+(opt.height))+"px",'opacity':1},{duration:masterspeed+tempo,queue:false,complete:function(){}});}});nextsh.find('.slotslide').each(function(i){var ss=$(this);ss.css({'top':(0-(opt.height))+"px",'opacity':0});if(i<opt.slots/2)
var tempo=(i+2)*60;else
var tempo=(2+opt.slots-i)*60;if(opt.firefox13){ss.animate({'top':'0px','opacity':1},{duration:masterspeed+tempo,queue:false,complete:function(){if(i==Math.round(opt.slots/2)){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}}});}else{ss.cssAnimate({'top':'0px','opacity':1},{duration:masterspeed+tempo,queue:false,complete:function(){if(i==Math.round(opt.slots/2)){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);}}});}});}
if(nexttrans==7){masterspeed=masterspeed*3;nextli.css({'opacity':1});prepareOneSlide(actsh,opt,true);prepareOneSlide(nextsh,opt,true);nextsh.find('.defaultimg').css({'opacity':0});actsh.find('.slotslide').each(function(){var ss=$(this).find('img');if(opt.firefox13){ss.animate({'left':(0-opt.slotw/2)+'px','top':(0-opt.height/2)+'px','width':(opt.slotw*2)+"px",'height':(opt.height*2)+"px",opacity:0},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}});}else{ss.cssAnimate({'left':(0-opt.slotw/2)+'px','top':(0-opt.height/2)+'px','width':(opt.slotw*2)+"px",'height':(opt.height*2)+"px",opacity:0},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);}});}});nextsh.find('.slotslide').each(function(i){var ss=$(this).find('img');ss.css({'left':(0)+'px','top':(0)+'px',opacity:0});if(opt.firefox13){ss.animate({'left':(0-i*opt.slotw)+'px','top':(0)+'px','width':(nextsh.find('.defaultimg').data('neww'))+"px",'height':(nextsh.find('.defaultimg').data('newh'))+"px",opacity:1},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}});}else{ss.cssAnimate({'left':(0-i*opt.slotw)+'px','top':(0)+'px','width':(nextsh.find('.defaultimg').data('neww'))+"px",'height':(nextsh.find('.defaultimg').data('newh'))+"px",opacity:1},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}});}});}
if(nexttrans==8){masterspeed=masterspeed*3;nextli.css({'opacity':1});prepareOneSlideV(actsh,opt,true);prepareOneSlideV(nextsh,opt,true);nextsh.find('.defaultimg').css({'opacity':0});actsh.find('.slotslide').each(function(){var ss=$(this).find('img');if(opt.firefox13){ss.animate({'left':(0-opt.width/2)+'px','top':(0-opt.sloth/2)+'px','width':(opt.width*2)+"px",'height':(opt.sloth*2)+"px",opacity:0},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}});}else{ss.cssAnimate({'left':(0-opt.width/2)+'px','top':(0-opt.sloth/2)+'px','width':(opt.width*2)+"px",'height':(opt.sloth*2)+"px",opacity:0},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);}});}});nextsh.find('.slotslide').each(function(i){var ss=$(this).find('img');ss.css({'left':(0)+'px','top':(0)+'px',opacity:0});if(opt.firefox13){ss.animate({'left':(0)+'px','top':(0-i*opt.sloth)+'px','width':(nextsh.find('.defaultimg').data('neww'))+"px",'height':(nextsh.find('.defaultimg').data('newh'))+"px",opacity:1},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}});}else{ss.cssAnimate({'left':(0)+'px','top':(0-i*opt.sloth)+'px','width':(nextsh.find('.defaultimg').data('neww'))+"px",'height':(nextsh.find('.defaultimg').data('newh'))+"px",opacity:1},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);}});}});}
if(nexttrans==9){nextli.css({'opacity':1});opt.slots=opt.width/20;prepareOneSlide(nextsh,opt,true);nextsh.find('.defaultimg').css({'opacity':0});var ssamount=0;nextsh.find('.slotslide').each(function(i){var ss=$(this);ssamount++;ss.css({'opacity':0});ss.data('tout',setTimeout(function(){ss.cssAnimate({'opacity':1},{duration:masterspeed,queue:false});},i*4));});setTimeout(function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);},(masterspeed+(ssamount*4)));}
if(nexttrans==10){nextli.css({'opacity':1});opt.slots=opt.height/20;prepareOneSlideV(nextsh,opt,true);nextsh.find('.defaultimg').css({'opacity':0});var ssamount=0;nextsh.find('.slotslide').each(function(i){var ss=$(this);ssamount++;ss.css({'opacity':0});ss.data('tout',setTimeout(function(){ss.animate({'opacity':1},{duration:masterspeed,queue:false});},i*4));});setTimeout(function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);},(masterspeed+(ssamount*4)));}
if(nexttrans==11){nextli.css({'opacity':1});opt.slots=1;prepareOneSlide(nextsh,opt,true);nextsh.find('.defaultimg').css({'opacity':0});var ssamount=0;nextsh.find('.slotslide').each(function(i){var ss=$(this);ssamount++;ss.css({'opacity':0});ss.animate({'opacity':1},{duration:masterspeed,queue:false});});setTimeout(function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);},masterspeed);}
if(nexttrans==12||nexttrans==13||nexttrans==14||nexttrans==15){masterspeed=masterspeed*3;nextli.css({'opacity':1});opt.slots=1;prepareOneSlide(nextsh,opt,true);prepareOneSlide(actsh,opt,true);actsh.find('.defaultimg').css({'opacity':0});nextsh.find('.defaultimg').css({'opacity':0});var oow=opt.width;var ooh=opt.height;if(opt.fullWidth=="on"){oow=opt.container.parent().width();ooh=opt.container.parent().height();}
var ssn=nextsh.find('.slotslide')
if(nexttrans==12)
ssn.css({'left':oow+"px"});else
if(nexttrans==15)
ssn.css({'left':(0-opt.width)+"px"});else
if(nexttrans==13)
ssn.css({'top':(ooh)+"px"});else
if(nexttrans==14)
ssn.css({'top':(0-opt.height)+"px"});if(opt.firefox13){ssn.animate({'left':'0px','top':'0px',opacity:1},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});opt.act=opt.next;moveSelectedThumb(container);}});}else{ssn.cssAnimate({'left':'0px','top':'0px',opacity:1},{duration:masterspeed,queue:false,complete:function(){removeSlots(container,opt);nextsh.find('.defaultimg').css({'opacity':1});actsh.find('.defaultimg').css({'opacity':0});if($.browser.msie&&$.browser.version<9)actsh.find('.defaultimg').css({'opacity':1});opt.act=opt.next;moveSelectedThumb(container);}});}
var ssa=actsh.find('.slotslide');if(opt.firefox13){if(nexttrans==12)
ssa.animate({'left':(0-oow)+'px',opacity:1},{duration:masterspeed,queue:false});else
if(nexttrans==15)
ssa.animate({'left':(oow)+'px',opacity:1},{duration:masterspeed,queue:false});else
if(nexttrans==13)
ssa.animate({'top':(0-ooh)+'px',opacity:1},{duration:masterspeed,queue:false});else
if(nexttrans==14)
ssa.animate({'top':(ooh)+'px',opacity:1},{duration:masterspeed,queue:false});}else{if(nexttrans==12)
ssa.cssAnimate({'left':(0-oow)+'px',opacity:1},{duration:masterspeed,queue:false});else
if(nexttrans==15)
ssa.cssAnimate({'left':(oow)+'px',opacity:1},{duration:masterspeed,queue:false});else
if(nexttrans==13)
ssa.cssAnimate({'top':(0-ooh)+'px',opacity:1},{duration:masterspeed,queue:false});else
if(nexttrans==14)
ssa.cssAnimate({'top':(ooh)+'px',opacity:1},{duration:masterspeed,queue:false});}}}
function removeTheCaptions(actli,opt){actli.find('.caption').each(function(i){var nextcaption=actli.find('.caption:eq('+i+')');nextcaption.stop(true,true);clearTimeout(nextcaption.data('timer'));var easetype=nextcaption.data('easing');easetype="easeInOutSine";var ll=nextcaption.data('repx');var tt=nextcaption.data('repy');var oo=nextcaption.data('repo');if(nextcaption.find('iframe').length>0){var par=nextcaption.find('iframe').parent();var iframe=par.html();setTimeout(function(){nextcaption.find('iframe').remove();par.append(iframe);},nextcaption.data('speed'));}
try{nextcaption.animate({'opacity':oo,'left':ll+'px','top':tt+"px"},{duration:nextcaption.data('speed'),easing:easetype});}catch(e){}});}
function onYouTubePlayerAPIReady(){}
function onPlayerStateChange(event){if(event.data==YT.PlayerState.PLAYING){var bt=$('body').find('.tp-bannertimer');var opt=bt.data('opt');bt.stop();opt.videoplaying=true;}else{var bt=$('body').find('.tp-bannertimer');var opt=bt.data('opt');if(opt.conthover==0)
bt.animate({'width':"100%"},{duration:((opt.delay-opt.cd)-100),queue:false,easing:"linear"});opt.videoplaying=false;}}
function addEvent(element,eventName,callback){if(element.addEventListener){element.addEventListener(eventName,callback,false);}
else{element.attachEvent(eventName,callback,false);}}
function vimeoready(player_id){var froogaloop=$f(player_id);froogaloop.addEvent('play',function(data){var bt=$('body').find('.tp-bannertimer');var opt=bt.data('opt');bt.stop();opt.videoplaying=true;});froogaloop.addEvent('finish',function(data){var bt=$('body').find('.tp-bannertimer');var opt=bt.data('opt');if(opt.conthover==0)
bt.animate({'width':"100%"},{duration:((opt.delay-opt.cd)-100),queue:false,easing:"linear"});opt.videoplaying=false;});froogaloop.addEvent('pause',function(data){var bt=$('body').find('.tp-bannertimer');var opt=bt.data('opt');if(opt.conthover==0)
bt.animate({'width':"100%"},{duration:((opt.delay-opt.cd)-100),queue:false,easing:"linear"});opt.videoplaying=false;});}
function animateTheCaptions(nextli,opt){nextli.find('.caption').each(function(i){offsetx=opt.width/2-opt.startwidth/2;if(opt.bh>1){opt.bw=1;opt.bh=1;}
if(opt.bw>1){opt.bw=1;opt.bh=1;}
var xbw=opt.bw;var nextcaption=nextli.find('.caption:eq('+i+')');nextcaption.stop(true,true);if(nextcaption.hasClass("coloredbg"))offsetx=0;if(offsetx<0)offsetx=0;clearTimeout(nextcaption.data('timer'));var frameID="iframe"+Math.round(Math.random()*1000+1);if(nextcaption.find('iframe').length>0){var ifr=nextcaption.find('iframe');if(ifr.attr('src').toLowerCase().indexOf('youtube')>=0){ifr.attr('id',frameID);ifr.addClass("HasListener");var player;player=new YT.Player(frameID,{events:{"onStateChange":onPlayerStateChange}});}else{if(ifr.attr('src').toLowerCase().indexOf('vimeo')>=0){if(!ifr.hasClass("HasListener")){ifr.addClass("HasListener");ifr.attr('id',frameID);var isrc=ifr.attr('src');var queryParameters={},queryString=isrc,re=/([^&=]+)=([^&]*)/g,m;while(m=re.exec(queryString)){queryParameters[decodeURIComponent(m[1])]=decodeURIComponent(m[2]);}
if(queryParameters['player_id']!=undefined){isrc=isrc.replace(queryParameters['player_id'],frameID);}else{isrc=isrc+"&player_id="+frameID;}
try{isrc=isrc.replace('api=0','api=1');}catch(e){}
isrc=isrc+"&api=1";ifr.attr('src',isrc);var player=nextcaption.find('iframe')[0];$f(player).addEvent('ready',vimeoready);}}}}
var imw=0;var imh=0;if(nextcaption.find('img').length>0){var im=nextcaption.find('img');if(im.data('ww')==undefined)im.data('ww',im.width());if(im.data('hh')==undefined)im.data('hh',im.height());var ww=im.data('ww');var hh=im.data('hh');im.width(ww*opt.bw);im.height(hh*opt.bh);imw=im.width();imh=im.height();}else{if(nextcaption.find('iframe').length>0){var im=nextcaption.find('iframe');if(nextcaption.data('ww')==undefined){nextcaption.data('ww',im.width());}
if(nextcaption.data('hh')==undefined)nextcaption.data('hh',im.height());var ww=nextcaption.data('ww');var hh=nextcaption.data('hh');var nc=nextcaption;if(nc.data('fsize')==undefined)nc.data('fsize',parseInt(nc.css('font-size'),0)||0);if(nc.data('pt')==undefined)nc.data('pt',parseInt(nc.css('paddingTop'),0)||0);if(nc.data('pb')==undefined)nc.data('pb',parseInt(nc.css('paddingBottom'),0)||0);if(nc.data('pl')==undefined)nc.data('pl',parseInt(nc.css('paddingLeft'),0)||0);if(nc.data('pr')==undefined)nc.data('pr',parseInt(nc.css('paddingRight'),0)||0);if(nc.data('mt')==undefined)nc.data('mt',parseInt(nc.css('marginTop'),0)||0);if(nc.data('mb')==undefined)nc.data('mb',parseInt(nc.css('marginBottom'),0)||0);if(nc.data('ml')==undefined)nc.data('ml',parseInt(nc.css('marginLeft'),0)||0);if(nc.data('mr')==undefined)nc.data('mr',parseInt(nc.css('marginRight'),0)||0);if(nc.data('bt')==undefined)nc.data('bt',parseInt(nc.css('borderTop'),0)||0);if(nc.data('bb')==undefined)nc.data('bb',parseInt(nc.css('borderBottom'),0)||0);if(nc.data('bl')==undefined)nc.data('bl',parseInt(nc.css('borderLeft'),0)||0);if(nc.data('br')==undefined)nc.data('br',parseInt(nc.css('borderRight'),0)||0);if(nc.data('lh')==undefined)nc.data('lh',parseInt(nc.css('lineHeight'),0)||0);nextcaption.css({'font-size':(nc.data('fsize')*opt.bw)+"px",'padding-top':(nc.data('pt')*opt.bh)+"px",'padding-bottom':(nc.data('pb')*opt.bh)+"px",'padding-left':(nc.data('pl')*opt.bw)+"px",'padding-right':(nc.data('pr')*opt.bw)+"px",'margin-top':(nc.data('mt')*opt.bh)+"px",'margin-bottom':(nc.data('mb')*opt.bh)+"px",'margin-left':(nc.data('ml')*opt.bw)+"px",'margin-right':(nc.data('mr')*opt.bw)+"px",'border-top':(nc.data('bt')*opt.bh)+"px",'border-bottom':(nc.data('bb')*opt.bh)+"px",'border-left':(nc.data('bl')*opt.bw)+"px",'border-right':(nc.data('br')*opt.bw)+"px",'line-height':(nc.data('lh')*opt.bh)+"px",'height':(hh*opt.bh)+'px','white-space':"nowrap"});im.width(ww*opt.bw);im.height(hh*opt.bh);imw=im.width();imh=im.height();}else{var nc=nextcaption;if(nc.data('fsize')==undefined)nc.data('fsize',parseInt(nc.css('font-size'),0)||0);if(nc.data('pt')==undefined)nc.data('pt',parseInt(nc.css('paddingTop'),0)||0);if(nc.data('pb')==undefined)nc.data('pb',parseInt(nc.css('paddingBottom'),0)||0);if(nc.data('pl')==undefined)nc.data('pl',parseInt(nc.css('paddingLeft'),0)||0);if(nc.data('pr')==undefined)nc.data('pr',parseInt(nc.css('paddingRight'),0)||0);if(nc.data('mt')==undefined)nc.data('mt',parseInt(nc.css('marginTop'),0)||0);if(nc.data('mb')==undefined)nc.data('mb',parseInt(nc.css('marginBottom'),0)||0);if(nc.data('ml')==undefined)nc.data('ml',parseInt(nc.css('marginLeft'),0)||0);if(nc.data('mr')==undefined)nc.data('mr',parseInt(nc.css('marginRight'),0)||0);if(nc.data('bt')==undefined)nc.data('bt',parseInt(nc.css('borderTop'),0)||0);if(nc.data('bb')==undefined)nc.data('bb',parseInt(nc.css('borderBottom'),0)||0);if(nc.data('bl')==undefined)nc.data('bl',parseInt(nc.css('borderLeft'),0)||0);if(nc.data('br')==undefined)nc.data('br',parseInt(nc.css('borderRight'),0)||0);if(nc.data('lh')==undefined)nc.data('lh',parseInt(nc.css('lineHeight'),0)||0);nextcaption.css({'font-size':(nc.data('fsize')*opt.bw)+"px",'padding-top':(nc.data('pt')*opt.bh)+"px",'padding-bottom':(nc.data('pb')*opt.bh)+"px",'padding-left':(nc.data('pl')*opt.bw)+"px",'padding-right':(nc.data('pr')*opt.bw)+"px",'margin-top':(nc.data('mt')*opt.bh)+"px",'margin-bottom':(nc.data('mb')*opt.bh)+"px",'margin-left':(nc.data('ml')*opt.bw)+"px",'margin-right':(nc.data('mr')*opt.bw)+"px",'border-top':(nc.data('bt')*opt.bh)+"px",'border-bottom':(nc.data('bb')*opt.bh)+"px",'border-left':(nc.data('bl')*opt.bw)+"px",'border-right':(nc.data('br')*opt.bw)+"px",'line-height':(nc.data('lh')*opt.bh)+"px",'white-space':"nowrap"});imh=nextcaption.outerHeight(true);imw=nextcaption.outerWidth(true);}}
if(nextcaption.hasClass('fade')){nextcaption.css({'opacity':0,'left':(xbw*nextcaption.data('x')+offsetx)+'px','top':(opt.bh*nextcaption.data('y'))+"px"});}
if(nextcaption.hasClass('lfr')){nextcaption.css({'opacity':1,'left':(5+opt.width)+'px','top':(opt.bh*nextcaption.data('y'))+"px"});}
if(nextcaption.hasClass('lfl')){nextcaption.css({'opacity':1,'left':(-5-imw)+'px','top':(opt.bh*nextcaption.data('y'))+"px"});}
if(nextcaption.hasClass('sfl')){nextcaption.css({'opacity':0,'left':((xbw*nextcaption.data('x'))-50+offsetx)+'px','top':(opt.bh*nextcaption.data('y'))+"px"});}
if(nextcaption.hasClass('sfr')){nextcaption.css({'opacity':0,'left':((xbw*nextcaption.data('x'))+50+offsetx)+'px','top':(opt.bh*nextcaption.data('y'))+"px"});}
if(nextcaption.hasClass('lft')){nextcaption.css({'opacity':1,'left':(xbw*nextcaption.data('x')+offsetx)+'px','top':(-5-imh)+"px"});}
if(nextcaption.hasClass('lfb')){nextcaption.css({'opacity':1,'left':(xbw*nextcaption.data('x')+offsetx)+'px','top':(5+opt.height)+"px"});}
if(nextcaption.hasClass('sft')){nextcaption.css({'opacity':0,'left':(xbw*nextcaption.data('x')+offsetx)+'px','top':((opt.bh*nextcaption.data('y'))-50)+"px"});}
if(nextcaption.hasClass('sfb')){nextcaption.css({'opacity':0,'left':(xbw*nextcaption.data('x')+offsetx)+'px','top':((opt.bh*nextcaption.data('y'))+50)+"px"});}
nextcaption.data('timer',setTimeout(function(){if(nextcaption.hasClass('fade')){nextcaption.data('repo',nextcaption.css('opacity'));nextcaption.animate({'opacity':1});}
if(nextcaption.hasClass('lfr')||nextcaption.hasClass('lfl')||nextcaption.hasClass('sfr')||nextcaption.hasClass('sfl')||nextcaption.hasClass('lft')||nextcaption.hasClass('lfb')||nextcaption.hasClass('sft')||nextcaption.hasClass('sfb'))
{var easetype=nextcaption.data('easing');if(easetype==undefined)easetype="linear";nextcaption.data('repx',nextcaption.position().left);nextcaption.data('repy',nextcaption.position().top);nextcaption.data('repo',nextcaption.css('opacity'));nextcaption.animate({'opacity':1,'left':(xbw*nextcaption.data('x')+offsetx)+'px','top':opt.bh*(nextcaption.data('y'))+"px"},{duration:nextcaption.data('speed'),easing:easetype});}},nextcaption.data('start')));})}
function countDown(container,opt){opt.cd=0;opt.loop=0;if(opt.stopAfterLoops!=undefined&&opt.stopAfterLoops>-1)
opt.looptogo=opt.stopAfterLoops;else
opt.looptogo=9999999;if(opt.stopAtSlide!=undefined&&opt.stopAtSlide>-1)
opt.lastslidetoshow=opt.stopAtSlide;else
opt.lastslidetoshow=999;if(opt.looptogo==0)opt.stopLoop="on";if(opt.slideamount>1&&!(opt.stopAfterLoops==0&&opt.stopAtSlide==1)){var bt=container.find('.tp-bannertimer');if(bt.length>0){bt.css({'width':'0%'});bt.animate({'width':"100%"},{duration:(opt.delay-100),queue:false,easing:"linear"});}
bt.data('opt',opt);opt.cdint=setInterval(function(){if(opt.conthover!=1&&opt.videoplaying!=true)opt.cd=opt.cd+100;if(opt.cd>=opt.delay){opt.cd=0;opt.act=opt.next;opt.next=opt.next+1;if(opt.next>container.find('>ul >li').length-1){opt.next=0;opt.looptogo=opt.looptogo-1;if(opt.loop<=0){opt.stopLoop="on";}}
if(opt.stopLoop=="on"&&opt.next==opt.lastslidetoshow-1){clearInterval(opt.cdint);container.find('.tp-bannertimer').css({'visibility':'hidden'});}
swapSlide(container,opt);if(bt.length>0){bt.css({'width':'0%'});bt.animate({'width':"100%"},{duration:(opt.delay-100),queue:false,easing:"linear"});}}},100);container.hover(function(){opt.conthover=1;if(opt.onHoverStop=="on"){bt.stop();}},function(){opt.conthover=0;if(opt.onHoverStop=="on"&&opt.videoplaying!=true){bt.animate({'width':"100%"},{duration:((opt.delay-opt.cd)-100),queue:false,easing:"linear"});}});}}})(jQuery);


/*!
* Bootstrap.js by @fat & @mdo
* Copyright 2012 Smashing, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(e){e(function(){"use strict";e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()},e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;return this.sliding?this.$element.one("slid",function(){s.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f=e.Event("slide",{relatedTarget:i[0]});this.sliding=!0,s&&this.pause(),i=i.length?i:this.$element.find(".item")[u]();if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}},e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=!i.data("modal")&&e.extend({},i.data(),n.data());i.carousel(s),t.preventDefault()})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(function(){e("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})})}(window.jQuery),!function(e){"use strict";function r(){i(e(t)).removeClass("open")}function i(t){var n=t.attr("data-target"),r;return n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=e(n),r.length||(r=t.parent()),r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||(s.toggleClass("open"),n.focus()),!1},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this),t.preventDefault(),t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n),u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider) a",o);if(!r.length)return;a=r.index(r.filter(":focus")),t.keyCode==38&&a>0&&a--,t.keyCode==40&&a<r.length-1&&a++,~a||(a=0),r.eq(a).focus()}},e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e(function(){e("html").on("click.dropdown.data-api touchstart.dropdown.data-api",r),e("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;e("body").addClass("modal-open"),this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1).focus(),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,e("body").removeClass("modal-open"),this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),n=this.getPosition(t),r=e[0].offsetWidth,i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var t=this,n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.remove(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!0}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content > *")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}}),e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),r=/^#\w/.test(n)&&e(n);return r&&r.length&&[[r.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active a").last()[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(t){var n;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,n?this.process(n):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0])),r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),(e.browser.chrome||e.browser.webkit||e.browser.msie)&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault(),n.typeahead(n.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))},e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery);



/**
 * Isotope v1.5.19
 * An exquisite jQuery plugin for magical layouts
 * http://isotope.metafizzy.co
 *
 * Commercial use requires one-time license fee
 * http://metafizzy.co/#licenses
 *
 * Copyright 2012 David DeSandro / Metafizzy
 */
(function(a,b,c){"use strict";var d=a.document,e=a.Modernizr,f=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},g="Moz Webkit O Ms".split(" "),h=function(a){var b=d.documentElement.style,c;if(typeof b[a]=="string")return a;a=f(a);for(var e=0,h=g.length;e<h;e++){c=g[e]+a;if(typeof b[c]=="string")return c}},i=h("transform"),j=h("transitionProperty"),k={csstransforms:function(){return!!i},csstransforms3d:function(){var a=!!h("perspective");if(a){var c=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),d="@media ("+c.join("transform-3d),(")+"modernizr)",e=b("<style>"+d+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),f=b('<div id="modernizr" />').appendTo("html");a=f.height()===3,f.remove(),e.remove()}return a},csstransitions:function(){return!!j}},l;if(e)for(l in k)e.hasOwnProperty(l)||e.addTest(l,k[l]);else{e=a.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var m=" ",n;for(l in k)n=k[l](),e[l]=n,m+=" "+(n?"":"no-")+l;b("html").addClass(m)}if(e.csstransforms){var o=e.csstransforms3d?{translate:function(a){return"translate3d("+a[0]+"px, "+a[1]+"px, 0) "},scale:function(a){return"scale3d("+a+", "+a+", 1) "}}:{translate:function(a){return"translate("+a[0]+"px, "+a[1]+"px) "},scale:function(a){return"scale("+a+") "}},p=function(a,c,d){var e=b.data(a,"isoTransform")||{},f={},g,h={},j;f[c]=d,b.extend(e,f);for(g in e)j=e[g],h[g]=o[g](j);var k=h.translate||"",l=h.scale||"",m=k+l;b.data(a,"isoTransform",e),a.style[i]=m};b.cssNumber.scale=!0,b.cssHooks.scale={set:function(a,b){p(a,"scale",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.scale?d.scale:1}},b.fx.step.scale=function(a){b.cssHooks.scale.set(a.elem,a.now+a.unit)},b.cssNumber.translate=!0,b.cssHooks.translate={set:function(a,b){p(a,"translate",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.translate?d.translate:[0,0]}}}var q,r;e.csstransitions&&(q={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd",transitionProperty:"transitionEnd"}[j],r=h("transitionDuration"));var s=b.event,t;s.special.smartresize={setup:function(){b(this).bind("resize",s.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",s.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type="smartresize",t&&clearTimeout(t),t=setTimeout(function(){jQuery.event.handle.apply(c,d)},b==="execAsap"?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Isotope=function(a,c,d){this.element=b(c),this._create(a),this._init(d)};var u=["width","height"],v=b(a);b.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!b.browser.opera,itemPositionDataEnabled:!1},b.Isotope.prototype={_create:function(a){this.options=b.extend({},b.Isotope.settings,a),this.styleQueue=[],this.elemCount=0;var c=this.element[0].style;this.originalStyle={};var d=u.slice(0);for(var e in this.options.containerStyle)d.push(e);for(var f=0,g=d.length;f<g;f++)e=d[f],this.originalStyle[e]=c[e]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var h={"original-order":function(a,b){return b.elemCount++,b.elemCount},random:function(){return Math.random()}};this.options.getSortData=b.extend(this.options.getSortData,h),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var i=this;setTimeout(function(){i.element.addClass(i.options.containerClass)},0),this.options.resizable&&v.bind("smartresize.isotope",function(){i.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(a){var b=this.options.itemSelector,c=b?a.filter(b).add(a.find(b)):a,d={position:"absolute"};return this.usingTransforms&&(d.left=0,d.top=0),c.css(d).addClass(this.options.itemClass),this.updateSortData(c,!0),c},_init:function(a){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(a)},option:function(a){if(b.isPlainObject(a)){this.options=b.extend(!0,this.options,a);var c;for(var d in a)c="_update"+f(d),this[c]&&this[c]()}},_updateAnimationEngine:function(){var a=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),b;switch(a){case"css":case"none":b=!1;break;case"jquery":b=!0;break;default:b=!e.csstransitions}this.isUsingJQueryAnimation=b,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var a=this.usingTransforms=this.options.transformsEnabled&&e.csstransforms&&e.csstransitions&&!this.isUsingJQueryAnimation;a||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=a?this._translate:this._positionAbs},_filter:function(a){var b=this.options.filter===""?"*":this.options.filter;if(!b)return a;var c=this.options.hiddenClass,d="."+c,e=a.filter(d),f=e;if(b!=="*"){f=e.filter(b);var g=a.not(d).not(b).addClass(c);this.styleQueue.push({$el:g,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:f,style:this.options.visibleStyle}),f.removeClass(c),a.filter(b)},updateSortData:function(a,c){var d=this,e=this.options.getSortData,f,g;a.each(function(){f=b(this),g={};for(var a in e)!c&&a==="original-order"?g[a]=b.data(this,"isotope-sort-data")[a]:g[a]=e[a](f,d);b.data(this,"isotope-sort-data",g)})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1,d=function(d,e){var f=b(d,a),g=b(e,a);return f===g&&a!=="original-order"&&(f=b(d,"original-order"),g=b(e,"original-order")),(f>g?1:f<g?-1:0)*c};this.$filteredAtoms.sort(d)},_getSorter:function(a,c){return b.data(a,"isotope-sort-data")[c]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,top:b}},_pushPosition:function(a,b,c){b=Math.round(b+this.offset.left),c=Math.round(c+this.offset.top);var d=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:d}),this.options.itemPositionDataEnabled&&a.data("isotope-item-position",{x:b,y:c})},layout:function(a,b){var c=this.options.layoutMode;this["_"+c+"Layout"](a);if(this.options.resizesContainer){var d=this["_"+c+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:d})}this._processStyleQueue(a,b),this.isLaidOut=!0},_processStyleQueue:function(a,c){var d=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",f=this.options.animationOptions,g=this.options.onLayout,h,i,j,k;i=function(a,b){b.$el[d](b.style,f)};if(this._isInserting&&this.isUsingJQueryAnimation)i=function(a,b){h=b.$el.hasClass("no-transition")?"css":d,b.$el[h](b.style,f)};else if(c||g||f.complete){var l=!1,m=[c,g,f.complete],n=this;j=!0,k=function(){if(l)return;var b;for(var c=0,d=m.length;c<d;c++)b=m[c],typeof b=="function"&&b.call(n.element,a,n);l=!0};if(this.isUsingJQueryAnimation&&d==="animate")f.complete=k,j=!1;else if(e.csstransitions){var o=0,p=this.styleQueue[0],s=p&&p.$el,t;while(!s||!s.length){t=this.styleQueue[o++];if(!t)return;s=t.$el}var u=parseFloat(getComputedStyle(s[0])[r]);u>0&&(i=function(a,b){b.$el[d](b.style,f).one(q,k)},j=!1)}}b.each(this.styleQueue,i),j&&k(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(a){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,a)},addItems:function(a,b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c),b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){var d=c._filter(a);c._addHideAppended(d),c._sort(),c.reLayout(),c._revealAppended(d,b)})},appended:function(a,b){var c=this;this.addItems(a,function(a){c._addHideAppended(a),c.layout(a),c._revealAppended(a,b)})},_addHideAppended:function(a){this.$filteredAtoms=this.$filteredAtoms.add(a),a.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:a,style:this.options.hiddenStyle})},_revealAppended:function(a,b){var c=this;setTimeout(function(){a.removeClass("no-transition"),c.styleQueue.push({$el:a,style:c.options.visibleStyle}),c._isInserting=!1,c._processStyleQueue(a,b)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a,b){var c=this,d=function(){c.$allAtoms=c.$allAtoms.not(a),a.remove(),b&&b.call(c.element)};a.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:a,style:this.options.hiddenStyle}),this.$filteredAtoms=this.$filteredAtoms.not(a),this._sort(),this.reLayout(d)):d()},shuffle:function(a){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(a)},destroy:function(){var a=this.usingTransforms,b=this.options;this.$allAtoms.removeClass(b.hiddenClass+" "+b.itemClass).each(function(){var b=this.style;b.position="",b.top="",b.left="",b.opacity="",a&&(b[i]="")});var c=this.element[0].style;for(var d in this.originalStyle)c[d]=this.originalStyle[d];this.element.unbind(".isotope").undelegate("."+b.hiddenClass,"click").removeClass(b.containerClass).removeData("isotope"),v.unbind(".isotope")},_getSegments:function(a){var b=this.options.layoutMode,c=a?"rowHeight":"columnWidth",d=a?"height":"width",e=a?"rows":"cols",g=this.element[d](),h,i=this.options[b]&&this.options[b][c]||this.$filteredAtoms["outer"+f(d)](!0)||g;h=Math.floor(g/i),h=Math.max(h,1),this[b][e]=h,this[b][c]=i},_checkIfSegmentsChanged:function(a){var b=this.options.layoutMode,c=a?"rows":"cols",d=this[b][c];return this._getSegments(a),this[b][c]!==d},_masonryReset:function(){this.masonry={},this._getSegments();var a=this.masonry.cols;this.masonry.colYs=[];while(a--)this.masonry.colYs.push(0)},_masonryLayout:function(a){var c=this,d=c.masonry;a.each(function(){var a=b(this),e=Math.ceil(a.outerWidth(!0)/d.columnWidth);e=Math.min(e,d.cols);if(e===1)c._masonryPlaceBrick(a,d.colYs);else{var f=d.cols+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.colYs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryPlaceBrick(a,g)}})},_masonryPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=this.masonry.columnWidth*d,h=c;this._pushPosition(a,g,h);var i=c+a.outerHeight(!0),j=this.masonry.cols+1-f;for(e=0;e<j;e++)this.masonry.colYs[d+e]=i},_masonryGetContainerSize:function(){var a=Math.max.apply(Math,this.masonry.colYs);return{height:a}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(a){var c=this,d=this.element.width(),e=this.fitRows;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.x!==0&&f+e.x>d&&(e.x=0,e.y=e.height),c._pushPosition(a,e.x,e.y),e.height=Math.max(e.y+g,e.height),e.x+=f})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(a){var c=this,d=this.cellsByRow;a.each(function(){var a=b(this),e=d.index%d.cols,f=Math.floor(d.index/d.cols),g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,0,c.straightDown.y),c.straightDown.y+=d.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var a=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(a--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(a){var c=this,d=c.masonryHorizontal;a.each(function(){var a=b(this),e=Math.ceil(a.outerHeight(!0)/d.rowHeight);e=Math.min(e,d.rows);if(e===1)c._masonryHorizontalPlaceBrick(a,d.rowXs);else{var f=d.rows+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.rowXs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryHorizontalPlaceBrick(a,g)}})},_masonryHorizontalPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=c,h=this.masonryHorizontal.rowHeight*d;this._pushPosition(a,g,h);var i=c+a.outerWidth(!0),j=this.masonryHorizontal.rows+1-f;for(e=0;e<j;e++)this.masonryHorizontal.rowXs[d+e]=i},_masonryHorizontalGetContainerSize:function(){var a=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:a}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(a){var c=this,d=this.element.height(),e=this.fitColumns;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.y!==0&&g+e.y>d&&(e.x=e.width,e.y=0),c._pushPosition(a,e.x,e.y),e.width=Math.max(e.x+f,e.width),e.y+=g})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(a){var c=this,d=this.cellsByColumn;a.each(function(){var a=b(this),e=Math.floor(d.index/d.rows),f=d.index%d.rows,g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,c.straightAcross.x,0),c.straightAcross.x+=d.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},b.fn.imagesLoaded=function(a){function h(){a.call(c,d)}function i(a){var c=a.target;c.src!==f&&b.inArray(c,g)===-1&&(g.push(c),--e<=0&&(setTimeout(h),d.unbind(".imagesLoaded",i)))}var c=this,d=c.find("img").add(c.filter("img")),e=d.length,f="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",g=[];return e||h(),d.bind("load.imagesLoaded error.imagesLoaded",i).each(function(){var a=this.src;this.src=f,this.src=a}),c};var w=function(b){a.console&&a.console.error(b)};b.fn.isotope=function(a,c){if(typeof a=="string"){var d=Array.prototype.slice.call(arguments,1);this.each(function(){var c=b.data(this,"isotope");if(!c){w("cannot call methods on isotope prior to initialization; attempted to call method '"+a+"'");return}if(!b.isFunction(c[a])||a.charAt(0)==="_"){w("no such method '"+a+"' for isotope instance");return}c[a].apply(c,d)})}else this.each(function(){var d=b.data(this,"isotope");d?(d.option(a),d._init(c)):b.data(this,"isotope",new b.Isotope(a,this,c))});return this}})(window,jQuery);



/*! fancyBox v2.1.0 fancyapps.com | fancyapps.com/fancybox/#license */
(function(u,p,f,q){var o=f(u),n=f(p),b=f.fancybox=function(){b.open.apply(this,arguments)},z=null,m=p.createTouch!==q,x=function(a){return a&&a.hasOwnProperty&&a instanceof f},s=function(a){return a&&"string"===f.type(a)},C=function(a){return s(a)&&0<a.indexOf("%")},k=function(a,c){var e=parseInt(a,10);c&&C(a)&&(e*=b.getViewport()[c]/100);return Math.ceil(e)},v=function(a,b){return k(a,b)+"px"};f.extend(b,{version:"2.1.0",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,
maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!m,autoCenter:!m,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},
prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0"'+
(f.browser.msie?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",
openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{closeClick:!0,speedOut:200,showEarly:!0,css:{}},title:{type:"float"}},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},
group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,c){if(a&&(f.isPlainObject(c)||(c={}),!1!==b.close(!0)))return f.isArray(a)||(a=x(a)?f(a).get():[a]),f.each(a,function(e,d){var j={},g,h,i,l,k;"object"===f.type(d)&&(d.nodeType&&(d=f(d)),x(d)?(j={href:d.attr("href"),title:d.attr("title"),isDom:!0,element:d},f.metadata&&
f.extend(!0,j,d.metadata())):j=d);g=c.href||j.href||(s(d)?d:null);h=c.title!==q?c.title:j.title||"";l=(i=c.content||j.content)?"html":c.type||j.type;!l&&j.isDom&&(l=d.data("fancybox-type"),l||(l=(l=d.prop("class").match(/fancybox\.(\w+)/))?l[1]:null));if(s(g)&&(l||(b.isImage(g)?l="image":b.isSWF(g)?l="swf":"#"===g.charAt(0)?l="inline":s(d)&&(l="html",i=d)),"ajax"===l))k=g.split(/\s+/,2),g=k.shift(),k=k.shift();i||("inline"===l?g?i=f(s(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):j.isDom&&(i=d):"html"===l?
i=g:!l&&(!g&&j.isDom)&&(l="inline",i=d));f.extend(j,{href:g,type:l,content:i,title:h,selector:k});a[e]=j}),b.opts=f.extend(!0,{},b.defaults,c),c.keys!==q&&(b.opts.keys=c.keys?f.extend({},b.defaults.keys,c.keys):!1),b.group=a,b._start(b.opts.index)},cancel:function(){var a=b.coming;a&&!1!==b.trigger("onCancel")&&(b.hideLoading(),b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0).trigger("onReset").remove(),b.current||
b.trigger("afterClose"),b.coming=null)},close:function(a){b.cancel();!1!==b.trigger("beforeClose")&&(b.unbindEvents(),!b.isOpen||!0===a?(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut()):(b.isOpen=b.isOpened=!1,b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),"fixed"===b.wrap.css("position")&&b.wrap.css(b._getPosition(!0)),b.transitions[b.current.closeMethod]()))},play:function(a){var c=function(){clearTimeout(b.player.timer)},
e=function(){c();b.current&&b.player.isActive&&(b.player.timer=setTimeout(b.next,b.current.playSpeed))},d=function(){c();f("body").unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};if(!0===a||!b.player.isActive&&!1!==a){if(b.current&&(b.current.loop||b.current.index<b.group.length-1))b.player.isActive=!0,f("body").bind({"afterShow.player onUpdate.player":e,"onCancel.player beforeClose.player":d,"beforeLoad.player":c}),e(),b.trigger("onPlayStart")}else d()},next:function(a){var c=b.current;
c&&(s(a)||(a=c.direction.next),b.jumpto(c.index+1,a,"next"))},prev:function(a){var c=b.current;c&&(s(a)||(a=c.direction.prev),b.jumpto(c.index-1,a,"prev"))},jumpto:function(a,c,e){var d=b.current;if(d&&(a=k(a),b.direction=c||d.direction[a>=d.index?"next":"prev"],b.router=e||"jumpto",d.loop&&(0>a&&(a=d.group.length+a%d.group.length),a%=d.group.length),d.group[a]!==q))b.cancel(),b._start(a)},reposition:function(a,c){var e;b.isOpen&&(e=b._getPosition(c),a&&"scroll"===a.type?(delete e.position,b.wrap.stop(!0,
!0).animate(e,200)):b.wrap.css(e))},update:function(a){var c=a&&a.type,e=!c||"orientationchange"===c;e&&(clearTimeout(z),z=null);if(b.isOpen&&!z){if(e||m)b.wrap.removeAttr("style").addClass("fancybox-tmp"),b.trigger("onUpdate");z=setTimeout(function(){var d=b.current;if(d){b.wrap.removeClass("fancybox-tmp");c!=="scroll"&&b._setDimension();c==="scroll"&&d.canShrink||b.reposition(a);b.trigger("onUpdate");z=null}},m?500:e?20:300)}},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?
a:!b.current.fitToView,b.update())},hideLoading:function(){n.unbind("keypress.fb");f("#fancybox-loading").remove()},showLoading:function(){var a,c;b.hideLoading();n.bind("keypress.fb",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),b.cancel()});a=f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body");b.defaults.fixed||(c=b.getViewport(),a.css({position:"absolute",top:0.5*c.h+c.y,left:0.5*c.w+c.x}))},getViewport:function(){var a=b.current?b.current.locked:!1,
c={x:o.scrollLeft(),y:o.scrollTop()};a?(c.w=a[0].clientWidth,c.h=a[0].clientHeight):(c.w=m&&u.innerWidth?u.innerWidth:o.width(),c.h=m&&u.innerHeight?u.innerHeight:o.height());return c},unbindEvents:function(){b.wrap&&x(b.wrap)&&b.wrap.unbind(".fb");n.unbind(".fb");o.unbind(".fb")},bindEvents:function(){var a=b.current,c;a&&(o.bind("orientationchange.fb"+(m?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),b.update),(c=a.keys)&&n.bind("keydown.fb",function(e){var d=e.which||e.keyCode,j=e.target||
e.srcElement;!e.ctrlKey&&(!e.altKey&&!e.shiftKey&&!e.metaKey&&(!j||!j.type&&!f(j).is("[contenteditable]")))&&f.each(c,function(c,j){if(1<a.group.length&&j[d]!==q)return b[c](j[d]),e.preventDefault(),!1;if(-1<f.inArray(d,j))return b[c](),e.preventDefault(),!1})}),f.fn.mousewheel&&a.mouseWheel&&b.wrap.bind("mousewheel.fb",function(c,d,j,g){for(var h=f(c.target||null),i=!1;h.length&&!i&&!h.is(".fancybox-skin")&&!h.is(".fancybox-wrap");)i=h[0]&&!(h[0].style.overflow&&"hidden"===h[0].style.overflow)&&
(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=f(h).parent();if(0!==d&&!i&&1<b.group.length&&!a.canShrink){if(0<g||0<j)b.prev(0<g?"down":"left");else if(0>g||0>j)b.next(0>g?"up":"right");c.preventDefault()}}))},trigger:function(a,c){var e,d=c||b.coming||b.current;if(d){f.isFunction(d[a])&&(e=d[a].apply(d,Array.prototype.slice.call(arguments,1)));if(!1===e)return!1;"onCancel"===a&&!b.isOpened&&(b.isActive=!1);d.helpers&&f.each(d.helpers,
function(c,e){if(e&&b.helpers[c]&&f.isFunction(b.helpers[c][a]))b.helpers[c][a](e,d)});f.event.trigger(a+".fb")}},isImage:function(a){return s(a)&&a.match(/\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$/i)},isSWF:function(a){return s(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var c={},e,d,a=k(a);e=b.group[a]||null;if(!e)return!1;c=f.extend(!0,{},b.opts,e);e=c.margin;d=c.padding;"number"===f.type(e)&&(c.margin=[e,e,e,e]);"number"===f.type(d)&&(c.padding=[d,d,d,d]);c.modal&&f.extend(!0,c,
{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});c.autoSize&&(c.autoWidth=c.autoHeight=!0);"auto"===c.width&&(c.autoWidth=!0);"auto"===c.height&&(c.autoHeight=!0);c.group=b.group;c.index=a;b.coming=c;if(!1===b.trigger("beforeLoad"))b.coming=null;else{d=c.type;e=c.href;if(!d)return b.coming=null,b.current&&b.router&&"jumpto"!==b.router?(b.current.index=a,b[b.router](b.direction)):!1;b.isActive=!0;if("image"===d||"swf"===d)c.autoHeight=c.autoWidth=
!1,c.scrolling="visible";"image"===d&&(c.aspectRatio=!0);"iframe"===d&&m&&(c.scrolling="scroll");c.wrap=f(c.tpl.wrap).addClass("fancybox-"+(m?"mobile":"desktop")+" fancybox-type-"+d+" fancybox-tmp "+c.wrapCSS).appendTo(c.parent);f.extend(c,{skin:f(".fancybox-skin",c.wrap),outer:f(".fancybox-outer",c.wrap),inner:f(".fancybox-inner",c.wrap)});f.each(["Top","Right","Bottom","Left"],function(a,b){c.skin.css("padding"+b,v(c.padding[a]))});b.trigger("onReady");if("inline"===d||"html"===d){if(!c.content||
!c.content.length)return b._error("content")}else if(!e)return b._error("href");"image"===d?b._loadImage():"ajax"===d?b._loadAjax():"iframe"===d?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;b.coming.width=this.width;b.coming.height=this.height;
b._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;b._error("image")};a.src=b.coming.href;(a.complete===q||!a.complete)&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,e){b.coming&&"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(c,e){"success"===e&&(a.content=c,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,c=f(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",
m?"auto":a.iframe.scrolling).attr("src",a.href);f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(b.showLoading(),c.one("load",function(){f(this).data("ready",1);m||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=c.appendTo(a.inner);a.iframe.preload||b._afterLoad()},_preloadImages:function(){var a=b.group,c=b.current,
e=a.length,d=c.preload?Math.min(c.preload,e-1):0,f,g;for(g=1;g<=d;g+=1)f=a[(c.index+g)%e],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var a=b.coming,c=b.current,e,d,j,g,h;b.hideLoading();if(a&&!1!==b.isActive)if(!1===b.trigger("afterLoad",a,c))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{c&&(b.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove(),"fixed"===c.wrap.css("position")&&c.wrap.css(b._getPosition(!0)));
b.unbindEvents();e=a.content;d=a.type;j=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:c});g=a.href;switch(d){case "inline":case "ajax":case "html":a.selector?e=f("<div>").html(e).find(a.selector):x(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",
false)}));break;case "image":e=a.tpl.image.replace("{href}",g);break;case "swf":e='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',h="",f.each(a.swf,function(a,b){e=e+('<param name="'+a+'" value="'+b+'"></param>');h=h+(" "+a+'="'+b+'"')}),e+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>"}(!x(e)||!e.parent().is(a.inner))&&a.inner.append(e);b.trigger("beforeShow");
a.inner.css("overflow","yes"===j?"scroll":"no"===j?"hidden":j);b._setDimension();a.wrap.removeClass("fancybox-tmp");a.pos=f.extend({},a.dim,b._getPosition(!0));b.isOpen=!1;b.coming=null;b.bindEvents();if(b.isOpened){if(c.prevMethod)b.transitions[c.prevMethod]()}else f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}},_setDimension:function(){var a=b.getViewport(),c=0,e=!1,d=!1,e=b.wrap,j=b.skin,g=b.inner,h=
b.current,d=h.width,i=h.height,l=h.minWidth,t=h.minHeight,m=h.maxWidth,n=h.maxHeight,s=h.scrolling,q=h.scrollOutside?h.scrollbarWidth:0,w=h.margin,o=w[1]+w[3],p=w[0]+w[2],x,r,u,A,y,D,z,B,E;e.add(j).add(g).width("auto").height("auto");w=j.outerWidth(!0)-j.width();x=j.outerHeight(!0)-j.height();r=o+w;u=p+x;A=C(d)?(a.w-r)*k(d)/100:d;y=C(i)?(a.h-u)*k(i)/100:i;if("iframe"===h.type){if(E=h.content,h.autoHeight&&1===E.data("ready"))try{E[0].contentWindow.document.location&&(g.width(A).height(9999),D=E.contents().find("body"),
q&&D.css("overflow-x","hidden"),y=D.height())}catch(F){}}else if(h.autoWidth||h.autoHeight)g.addClass("fancybox-tmp"),h.autoWidth||g.width(A),h.autoHeight||g.height(y),h.autoWidth&&(A=g.width()),h.autoHeight&&(y=g.height()),g.removeClass("fancybox-tmp");d=k(A);i=k(y);B=A/y;l=k(C(l)?k(l,"w")-r:l);m=k(C(m)?k(m,"w")-r:m);t=k(C(t)?k(t,"h")-u:t);n=k(C(n)?k(n,"h")-u:n);D=m;z=n;o=a.w-o;p=a.h-p;if(h.aspectRatio){if(d>m&&(d=m,i=d/B),i>n&&(i=n,d=i*B),d<l&&(d=l,i=d/B),i<t)i=t,d=i*B}else d=Math.max(l,Math.min(d,
m)),i=Math.max(t,Math.min(i,n));if(h.fitToView)if(m=Math.min(a.w-r,m),n=Math.min(a.h-u,n),g.width(k(d)).height(k(i)),e.width(k(d+w)),a=e.width(),r=e.height(),h.aspectRatio)for(;(a>o||r>p)&&(d>l&&i>t)&&!(19<c++);)i=Math.max(t,Math.min(n,i-10)),d=i*B,d<l&&(d=l,i=d/B),d>m&&(d=m,i=d/B),g.width(k(d)).height(k(i)),e.width(k(d+w)),a=e.width(),r=e.height();else d=Math.max(l,Math.min(d,d-(a-o))),i=Math.max(t,Math.min(i,i-(r-p)));q&&("auto"===s&&i<y&&d+w+q<o)&&(d+=q);g.width(k(d)).height(k(i));e.width(k(d+
w));a=e.width();r=e.height();e=(a>o||r>p)&&d>l&&i>t;d=h.aspectRatio?d<D&&i<z&&d<A&&i<y:(d<D||i<z)&&(d<A||i<y);f.extend(h,{dim:{width:v(a),height:v(r)},origWidth:A,origHeight:y,canShrink:e,canExpand:d,wPadding:w,hPadding:x,wrapSpace:r-j.outerHeight(!0),skinSpace:j.height()-i});!E&&(h.autoHeight&&i>t&&i<n&&!d)&&g.height("auto")},_getPosition:function(a){var c=b.current,e=b.getViewport(),d=c.margin,f=b.wrap.width()+d[1]+d[3],g=b.wrap.height()+d[0]+d[2],d={position:"absolute",top:d[0],left:d[3]};c.autoCenter&&
c.fixed&&!a&&g<=e.h&&f<=e.w?d.position="fixed":c.locked||(d.top+=e.y,d.left+=e.x);d.top=v(Math.max(d.top,d.top+(e.h-g)*c.topRatio));d.left=v(Math.max(d.left,d.left+(e.w-f)*c.leftRatio));return d},_afterZoomIn:function(){var a=b.current;a&&((b.isOpen=b.isOpened=!0,b.wrap.addClass("fancybox-opened").css("overflow","visible"),b.reposition(),(a.closeClick||a.nextClick)&&b.inner.css("cursor","pointer").bind("click.fb",function(c){if(!f(c.target).is("a")&&!f(c.target).parent().is("a"))b[a.closeClick?"close":
"next"]()}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",b.close),a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),!a.loop&&a.index===a.group.length-1)?b.play(!1):b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play()))},_afterZoomOut:function(){var a=b.current;f(".fancybox-wrap").stop(!0).trigger("onReset").remove();
f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});b.trigger("afterClose",a)}});b.transitions={getOrigPosition:function(){var a=b.current,c=a.element,e=a.orig,d={},f=50,g=50,h=a.hPadding,i=a.wPadding,l=b.getViewport();!e&&(a.isDom&&c.is(":visible"))&&(e=c.find("img:first"),e.length||(e=c));x(e)?(d=e.offset(),e.is("img")&&(f=e.outerWidth(),g=e.outerHeight())):(d.top=l.y+(l.h-g)*a.topRatio,d.left=l.x+(l.w-f)*
a.leftRatio);a.locked&&(d.top-=l.y,d.left-=l.x);return d={top:v(d.top-h*a.topRatio),left:v(d.left-i*a.leftRatio),width:v(f+i),height:v(g+h)}},step:function(a,c){var e,d,f=c.prop;d=b.current;var g=d.wrapSpace,h=d.skinSpace;if("width"===f||"height"===f)e=c.end===c.start?1:(a-c.start)/(c.end-c.start),b.isClosing&&(e=1-e),d="width"===f?d.wPadding:d.hPadding,d=a-d,b.skin[f](k("width"===f?d:d-g*e)),b.inner[f](k("width"===f?d:d-g*e-h*e))},zoomIn:function(){var a=b.current,c=a.pos,e=a.openEffect,d="elastic"===
e,j=f.extend({opacity:1},c);delete j.position;d?(c=this.getOrigPosition(),a.openOpacity&&(c.opacity=0.1)):"fade"===e&&(c.opacity=0.1);b.wrap.css(c).animate(j,{duration:"none"===e?0:a.openSpeed,easing:a.openEasing,step:d?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,c=a.closeEffect,e="elastic"===c,d={opacity:0.1};e&&(d=this.getOrigPosition(),a.closeOpacity&&(d.opacity=0.1));b.wrap.animate(d,{duration:"none"===c?0:a.closeSpeed,easing:a.closeEasing,step:e?this.step:null,
complete:b._afterZoomOut})},changeIn:function(){var a=b.current,c=a.nextEffect,e=a.pos,d={opacity:1},f=b.direction,g;e.opacity=0.1;"elastic"===c&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(e[g]=v(k(e[g])-200),d[g]="+=200px"):(e[g]=v(k(e[g])+200),d[g]="-=200px"));"none"===c?b._afterZoomIn():b.wrap.css(e).animate(d,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},changeOut:function(){var a=b.previous,c=a.prevEffect,e={opacity:0.1},d=b.direction;"elastic"===c&&
(e["down"===d||"up"===d?"top":"left"]=("up"===d||"left"===d?"-":"+")+"=200px");a.wrap.animate(e,{duration:"none"===c?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};b.helpers.overlay={overlay:null,update:function(){var a="100%",b;this.overlay.width(a).height("100%");f.browser.msie?(b=Math.max(p.documentElement.offsetWidth,p.body.offsetWidth),n.width()>b&&(a=n.width())):n.width()>o.width()&&(a=n.width());this.overlay.width(a).height(n.height())},onReady:function(a,
b){f(".fancybox-overlay").stop(!0,!0);this.overlay||f.extend(this,{overlay:f('<div class="fancybox-overlay"></div>').appendTo(b.parent),margin:n.height()>o.height()||"scroll"===f("body").css("overflow-y")?f("body").css("margin-right"):!1,el:p.all&&!p.querySelector?f("html"):f("body")});b.fixed&&!m&&(this.overlay.addClass("fancybox-overlay-fixed"),b.autoCenter&&(this.overlay.append(b.wrap),b.locked=this.overlay));!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,c){var e=
this.overlay.unbind(".fb").width("auto").height("auto").css(a.css);a.closeClick&&e.bind("click.fb",function(a){f(a.target).hasClass("fancybox-overlay")&&b.close()});c.fixed&&!m?c.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&f("body").css("margin-right",k(this.margin)+c.scrollbarWidth)):this.update();e.show()},onUpdate:function(a,b){(!b.fixed||m)&&this.update()},afterClose:function(a){var c=this,a=a.speedOut||0;c.overlay&&!b.isActive&&c.overlay.fadeOut(a||0,function(){f("body").css("margin-right",
c.margin);c.el.removeClass("fancybox-lock");c.overlay.remove();c.overlay=null})}};b.helpers.title={beforeShow:function(a){var c=b.current.title,e=a.type;if(s(c)&&""!==f.trim(c)){c=f('<div class="fancybox-title fancybox-title-'+e+'-wrap">'+c+"</div>");switch(e){case "inside":e=b.skin;break;case "outside":e=b.wrap;break;case "over":e=b.inner;break;default:e=b.skin,c.appendTo("body").width(c.width()).wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(k(c.css("margin-bottom")))}"top"===
a.position?c.prependTo(e):c.appendTo(e)}}};f.fn.fancybox=function(a){var c,e=f(this),d=this.selector||"",j=function(g){var h=f(this).blur(),i=c,j,k;!g.ctrlKey&&(!g.altKey&&!g.shiftKey&&!g.metaKey)&&!h.is(".fancybox-wrap")&&(j=a.groupAttr||"data-fancybox-group",k=h.attr(j),k||(j="rel",k=h.get(0)[j]),k&&(""!==k&&"nofollow"!==k)&&(h=d.length?f(d):e,h=h.filter("["+j+'="'+k+'"]'),i=h.index(this)),a.index=i,!1!==b.open(h,a)&&g.preventDefault())},a=a||{};c=a.index||0;!d||!1===a.live?e.unbind("click.fb-start").bind("click.fb-start",
j):n.undelegate(d,"click.fb-start").delegate(d+":not('.fancybox-item, .fancybox-nav')","click.fb-start",j);return this};n.ready(function(){f.scrollbarWidth===q&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});if(f.support.fixedPosition===q){var a=f.support,c=f('<div style="position:fixed;top:20px;"></div>').appendTo("body"),e=20===c[0].offsetTop||
15===c[0].offsetTop;c.remove();a.fixedPosition=e}f.extend(b.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")})})})(window,document,jQuery);




 /*!
 * Buttons helper for fancyBox
 * version: 1.0.3
 * @requires fancyBox v2.0 or later
 *
 * Usage:
 *     $(".fancybox").fancybox({
 *         helpers : {
 *             buttons: {
 *                 position : 'top'
 *             }
 *         }
 *     });
 *
 * Options:
 *     tpl - HTML template
 *     position - 'top' or 'bottom'
 *
 */
(function ($) {
	//Shortcut for fancyBox object
	var F = $.fancybox;

	//Add helper object
	F.helpers.buttons = {
		tpl  : '<div id="fancybox-buttons"><ul><li><a class="btnPrev" title="Previous" href="javascript:;"></a></li><li><a class="btnPlay" title="Start slideshow" href="javascript:;"></a></li><li><a class="btnNext" title="Next" href="javascript:;"></a></li><li><a class="btnToggle" title="Toggle size" href="javascript:;"></a></li><li><a class="btnClose" title="Close" href="javascript:jQuery.fancybox.close();"></a></li></ul></div>',
		list : null,
		buttons: null,

		beforeLoad: function (opts, obj) {
			//Remove self if gallery do not have at least two items

			if (opts.skipSingle && obj.group.length < 2) {
				obj.helpers.buttons = false;
				obj.closeBtn = true;

				return;
			}

			//Increase top margin to give space for buttons
			obj.margin[ opts.position === 'bottom' ? 2 : 0 ] += 30;
		},

		onPlayStart: function () {
			if (this.buttons) {
				this.buttons.play.attr('title', 'Pause slideshow').addClass('btnPlayOn');
			}
		},

		onPlayEnd: function () {
			if (this.buttons) {
				this.buttons.play.attr('title', 'Start slideshow').removeClass('btnPlayOn');
			}
		},

		afterShow: function (opts, obj) {
			var buttons = this.buttons;

			if (!buttons) {
				this.list = $(opts.tpl || this.tpl).addClass(opts.position || 'top').appendTo('body');

				buttons = {
					prev   : this.list.find('.btnPrev').click( F.prev ),
					next   : this.list.find('.btnNext').click( F.next ),
					play   : this.list.find('.btnPlay').click( F.play ),
					toggle : this.list.find('.btnToggle').click( F.toggle )
				}
			}

			//Prev
			if (obj.index > 0 || obj.loop) {
				buttons.prev.removeClass('btnDisabled');
			} else {
				buttons.prev.addClass('btnDisabled');
			}

			//Next / Play
			if (obj.loop || obj.index < obj.group.length - 1) {
				buttons.next.removeClass('btnDisabled');
				buttons.play.removeClass('btnDisabled');

			} else {
				buttons.next.addClass('btnDisabled');
				buttons.play.addClass('btnDisabled');
			}

			this.buttons = buttons;

			this.onUpdate(opts, obj);
		},

		onUpdate: function (opts, obj) {
			var toggle;

			if (!this.buttons) {
				return;
			}

			toggle = this.buttons.toggle.removeClass('btnDisabled btnToggleOn');

			//Size toggle button
			if (obj.canShrink) {
				toggle.addClass('btnToggleOn');

			} else if (!obj.canExpand) {
				toggle.addClass('btnDisabled');
			}
		},

		beforeClose: function () {
			if (this.list) {
				this.list.remove();
			}

			this.list    = null;
			this.buttons = null;
		}
	};

}(jQuery));



// retina.js, a high-resolution image swapper (http://retinajs.com), v0.0.2

(function(){function t(e){this.path=e;var t=this.path.split("."),n=t.slice(0,t.length-1).join("."),r=t[t.length-1];this.at_2x_path=n+"@2x."+r}function n(e){this.el=e,this.path=new t(this.el.getAttribute("src"));var n=this;this.path.check_2x_variant(function(e){e&&n.swap()})}var e=typeof exports=="undefined"?window:exports;e.RetinaImagePath=t,t.confirmed_paths=[],t.prototype.is_external=function(){return!!this.path.match(/^https?\:/i)&&!this.path.match("//"+document.domain)},t.prototype.check_2x_variant=function(e){var n,r=this;if(this.is_external())return e(!1);if(this.at_2x_path in t.confirmed_paths)return e(!0);n=new XMLHttpRequest,n.open("HEAD",this.at_2x_path),n.onreadystatechange=function(){return n.readyState!=4?e(!1):n.status>=200&&n.status<=399?(t.confirmed_paths.push(r.at_2x_path),e(!0)):e(!1)},n.send()},e.RetinaImage=n,n.prototype.swap=function(e){function n(){t.el.complete?(t.el.setAttribute("width",t.el.offsetWidth),t.el.setAttribute("height",t.el.offsetHeight),t.el.setAttribute("src",e)):setTimeout(n,5)}typeof e=="undefined"&&(e=this.path.at_2x_path);var t=this;n()},e.devicePixelRatio>1&&(window.onload=function(){var e=document.getElementsByTagName("img"),t=[],r,i;for(r=0;r<e.length;r++)i=e[r],t.push(new n(i))})})();



//** Smooth Navigational Menu- By Dynamic Drive DHTML code library: http://www.dynamicdrive.com
//** Script Download/ instructions page: http://www.dynamicdrive.com/dynamicindex1/ddlevelsmenu/
//** Menu created: Nov 12, 2008

//** Dec 12th, 08" (v1.01): Fixed Shadow issue when multiple LIs within the same UL (level) contain sub menus: http://www.dynamicdrive.com/forums/showthread.php?t=39177&highlight=smooth

//** Feb 11th, 09" (v1.02): The currently active main menu item (LI A) now gets a CSS class of ".selected", including sub menu items.

//** May 1st, 09" (v1.3):
//** 1) Now supports vertical (side bar) menu mode- set "orientation" to 'v'
//** 2) In IE6, shadows are now always disabled

//** July 27th, 09" (v1.31): Fixed bug so shadows can be disabled if desired.
//** Feb 2nd, 10" (v1.4): Adds ability to specify delay before sub menus appear and disappear, respectively. See showhidedelay variable below

//** Dec 17th, 10" (v1.5): Updated menu shadow to use CSS3 box shadows when the browser is FF3.5+, IE9+, Opera9.5+, or Safari3+/Chrome. Only .js file changed.
//** July 17th, 11'- Updated to v 1.51: Menu updated to work properly in popular mobile devices such as iPad/iPhone and Android tablets.

var ddsmoothmenu={

//Specify full URL to down and right arrow images (23 is padding-right added to top level LIs with drop downs):
arrowimages: {down:['downarrowclass', 'down.gif', 23], right:['rightarrowclass', 'right.gif']},
transition: {overtime:300, outtime:300}, //duration of slide in/ out animation, in milliseconds
shadow: {enable:false, offsetx:5, offsety:5}, //enable shadow?
showhidedelay: {showdelay: 100, hidedelay: 200}, //set delay in milliseconds before sub menus appear and disappear, respectively

///////Stop configuring beyond here///////////////////////////

detectwebkit: navigator.userAgent.toLowerCase().indexOf("applewebkit")!=-1, //detect WebKit browsers (Safari, Chrome etc)
detectie6: document.all && !window.XMLHttpRequest,
css3support: window.msPerformance || (!document.all && document.querySelector), //detect browsers that support CSS3 box shadows (ie9+ or FF3.5+, Safari3+, Chrome etc)
ismobile:navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i) != null, //boolean check for popular mobile browsers

getajaxmenu:function($, setting){ //function to fetch external page containing the panel DIVs
	var $menucontainer=$('#'+setting.contentsource[0]) //reference empty div on page that will hold menu
	$menucontainer.html("Loading Menu...")
	$.ajax({
		url: setting.contentsource[1], //path to external menu file
		async: true,
		error:function(ajaxrequest){
			$menucontainer.html('Error fetching content. Server Response: '+ajaxrequest.responseText)
		},
		success:function(content){
			$menucontainer.html(content)
			ddsmoothmenu.buildmenu($, setting)
		}
	})
},


buildmenu:function($, setting){
	var smoothmenu=ddsmoothmenu
	var $mainmenu=$("#"+setting.mainmenuid+">ul") //reference main menu UL
	$mainmenu.parent().get(0).className=setting.classname || "ddsmoothmenu"
	var $headers=$mainmenu.find("ul").parent()
	$headers.hover(
		function(e){
			$(this).children('a:eq(0)').addClass('selected')
		},
		function(e){
			$(this).children('a:eq(0)').removeClass('selected')
		}
	)
	$headers.each(function(i){ //loop through each LI header
		var $curobj=$(this).css({zIndex: 100-i}) //reference current LI header
		var $subul=$(this).find('ul:eq(0)').css({display:'block'})
		$subul.data('timers', {})
		this._dimensions={w:this.offsetWidth, h:this.offsetHeight, subulw:$subul.outerWidth(), subulh:$subul.outerHeight()}
		this.istopheader=$curobj.parents("ul").length==1? true : false //is top level header?
		$subul.css({top:this.istopheader && setting.orientation!='v'? this._dimensions.h+"px" : 0})
		
		if (smoothmenu.shadow.enable && !smoothmenu.css3support){ //if shadows enabled and browser doesn't support CSS3 box shadows
			this._shadowoffset={x:(this.istopheader?$subul.offset().left+smoothmenu.shadow.offsetx : this._dimensions.w), y:(this.istopheader? $subul.offset().top+smoothmenu.shadow.offsety : $curobj.position().top)} //store this shadow's offsets
			if (this.istopheader)
				$parentshadow=$(document.body)
			else{
				var $parentLi=$curobj.parents("li:eq(0)")
				$parentshadow=$parentLi.get(0).$shadow
			}
			this.$shadow=$('<div class="ddshadow'+(this.istopheader? ' toplevelshadow' : '')+'"></div>').prependTo($parentshadow).css({left:this._shadowoffset.x+'px', top:this._shadowoffset.y+'px'})  //insert shadow DIV and set it to parent node for the next shadow div
		}
		$curobj.hover(
			function(e){
				var $targetul=$subul //reference UL to reveal
				var header=$curobj.get(0) //reference header LI as DOM object
				clearTimeout($targetul.data('timers').hidetimer)
				$targetul.data('timers').showtimer=setTimeout(function(){
					header._offsets={left:$curobj.offset().left, top:$curobj.offset().top}
					var menuleft=header.istopheader && setting.orientation!='v'? 0 : header._dimensions.w
					menuleft=(header._offsets.left+menuleft+header._dimensions.subulw>$(window).width())? (header.istopheader && setting.orientation!='v'? -header._dimensions.subulw+header._dimensions.w : -header._dimensions.w) : menuleft //calculate this sub menu's offsets from its parent
					if ($targetul.queue().length<=1){ //if 1 or less queued animations
						$targetul.css({left:menuleft+"px", width:header._dimensions.subulw+'px'}).animate({height:'show',opacity:'show'}, ddsmoothmenu.transition.overtime)
						if (smoothmenu.shadow.enable && !smoothmenu.css3support){
							var shadowleft=header.istopheader? $targetul.offset().left+ddsmoothmenu.shadow.offsetx : menuleft
							var shadowtop=header.istopheader?$targetul.offset().top+smoothmenu.shadow.offsety : header._shadowoffset.y
							if (!header.istopheader && ddsmoothmenu.detectwebkit){ //in WebKit browsers, restore shadow's opacity to full
								header.$shadow.css({opacity:1})
							}
							header.$shadow.css({overflow:'', width:header._dimensions.subulw+'px', left:shadowleft+'px', top:shadowtop+'px'}).animate({height:header._dimensions.subulh+'px'}, ddsmoothmenu.transition.overtime)
						}
					}
				}, ddsmoothmenu.showhidedelay.showdelay)
			},
			function(e){
				var $targetul=$subul
				var header=$curobj.get(0)
				clearTimeout($targetul.data('timers').showtimer)
				$targetul.data('timers').hidetimer=setTimeout(function(){
					$targetul.animate({height:'hide', opacity:'hide'}, ddsmoothmenu.transition.outtime)
					if (smoothmenu.shadow.enable && !smoothmenu.css3support){
						if (ddsmoothmenu.detectwebkit){ //in WebKit browsers, set first child shadow's opacity to 0, as "overflow:hidden" doesn't work in them
							header.$shadow.children('div:eq(0)').css({opacity:0})
						}
						header.$shadow.css({overflow:'hidden'}).animate({height:0}, ddsmoothmenu.transition.outtime)
					}
				}, ddsmoothmenu.showhidedelay.hidedelay)
			}
		) //end hover
	}) //end $headers.each()
	if (smoothmenu.shadow.enable && smoothmenu.css3support){ //if shadows enabled and browser supports CSS3 shadows
		var $toplevelul=$('#'+setting.mainmenuid+' ul li ul')
		var css3shadow=parseInt(smoothmenu.shadow.offsetx)+"px "+parseInt(smoothmenu.shadow.offsety)+"px 5px #aaa" //construct CSS3 box-shadow value
		var shadowprop=["boxShadow", "MozBoxShadow", "WebkitBoxShadow", "MsBoxShadow"] //possible vendor specific CSS3 shadow properties
		for (var i=0; i<shadowprop.length; i++){
			$toplevelul.css(shadowprop[i], css3shadow)
		}
	}
	$mainmenu.find("ul").css({display:'none', visibility:'visible'})
},

init:function(setting){
	if (typeof setting.customtheme=="object" && setting.customtheme.length==2){ //override default menu colors (default/hover) with custom set?
		var mainmenuid='#'+setting.mainmenuid
		var mainselector=(setting.orientation=="v")? mainmenuid : mainmenuid+', '+mainmenuid
		document.write('<style type="text/css">\n'
			+mainselector+' ul li a {background:'+setting.customtheme[0]+';}\n'
			+mainmenuid+' ul li a:hover {background:'+setting.customtheme[1]+';}\n'
		+'</style>')
	}
	this.shadow.enable=(document.all && !window.XMLHttpRequest)? false : this.shadow.enable //in IE6, always disable shadow
	jQuery(document).ready(function($){ //ajax menu?
		if (typeof setting.contentsource=="object"){ //if external ajax menu
			ddsmoothmenu.getajaxmenu($, setting)
		}
		else{ //else if markup menu
			ddsmoothmenu.buildmenu($, setting)
		}
	})
}

} //end ddsmoothmenu variable